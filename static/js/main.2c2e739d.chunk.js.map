{"version":3,"sources":["view/home/components/topBar/index.jsx","utils/request.js","api/song_menu.js","view/home/components/recommend/songList/index.jsx","view/home/components/recommend/index.jsx","api/banner.js","api/singer.js","view/home/components/singer/index.jsx","view/home/components/ranking/index.jsx","api/ranking.js","view/home/index.jsx","redux/actionType.js","redux/index.js","redux/reducers.js","redux/actionCreator.js","view/songMenu/index.jsx","view/singerDetails/index.jsx","api/music.js","utils/myToast.js","view/playMusic/index.jsx","utils/playAnimation.js","view/search/index.jsx","api/search.js","App.js","serviceWorker.js","utils/lazyLoading.js","index.js"],"names":["topBar","state","className","mode","icon","type","onLeftClick","rightContent","key","style","marginRight","onClick","props","history","push","React","Component","withRouter","request","axios","create","baseURL","defaults","transformResponse","data","interceptors","use","config","err","Promise","reject","response","JSON","parse","getDetails","id","method","url","params","t","Date","now","getPlaylist","songList","this","getSongList","item","res","setState","result","isLoad","console","log","ref","val","recommend","map","index","songMenu","src","alt","data-url","picUrl","name","Math","ceil","playCount","bannerList","getBanners","banners","autoplay","infinite","display","width","height","imageUrl","verticalAlign","onLoad","window","dispatchEvent","Event","imgHeight","singerType","cat","initial","getSingerDesc","Item","singer","letterIndex","letter","singerList","_index","loadList","undefined","artists","screen","letterScreen","thumb","Brief","ranking","authorityList","globalList","getRanking","list","slice","forEach","getSongMenu","length","arr","tags","playlist","tracks","coverImgUrl","hasLine","columnNum","renderItem","borderRadius","color","fontSize","marginTop","updateFrequency","tabs","title","sub","home","initialPage","tabBarBackgroundColor","tabBarInactiveTextColor","tabBarActiveTextColor","swipeable","prerenderingSiblingsNumber","$lazyLoading","alignItems","justifyContent","backgroundColor","ganking","SET_MUC_DATA","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","musicUrl","createStore","action","applyMiddleware","thunk","setMucData","subscribedCount","bgStyle","backgroundImage","show","rollPlace","transform","document","documentElement","scrollTop","match","e","artId","ar","floor","random","arName","dispatch","even","tempStyle","play","startIndex","setTimeout","go","leftContent","background","rowCount","rowHeight","rowRenderer","bind","onRowsRendered","singerDetails","artist","hotSongs","inline","getMusicLyc","myToast","msg","tiem","popup","createElement","innerText","body","append","position","opacity","left","textAlign","top","zIndex","transition","padding","removeChild","playMusic","isPlay","musicList","musicName","musicAr","playLength","current","end","platPattern","lycArr","currentLyric","isShowLyc","popupShow","isTouchDown","addEventListener","event","x","changedTouches","clientX","progressBox","offsetLeft","setProgress","subscribe","getState","root","getElementById","ico","pageY","pageX","playAnimation","setMusicUrl","lyric","split","lyricArr","i","timeStr","substring","str","replace","timeArr","j","time","Number","sort","a","b","progress","MusicChange","lyc","lyricDispose","lrc","_this","audio","pause","getElementsByClassName","tool","ended","currentTime","duration","m","toString","s","padStart","percentage","offsetWidth","lycBrief","allLyc","popupBox","setMucTiem","bottom","showAll","img","Playing","showPopup","autoPlay","onTimeUpdate","timeupdate","controls","onPlaying","onPause","loop","unShowAll","plate","onTouchStart","onTouchEnd","progressClick","visible","onClose","animationType","renderHeader","tiemId","search","boxStyle","searchList","singerData","playlists","searchHot","focus","getSearchHot","hots","clearInterval","input","value","trim","searchMusic","box","keywords","songs","album","data-seed","first","placeholder","onChange","App","path","component","Home","SongMenu","SingerDetails","Search","Boolean","location","hostname","windowHei","innerHeight","ele","Tiem","querySelectorAll","y","setAttribute","getAttribute","removeAttribute","prototype","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.2c2e739d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { NavBar, Icon } from 'antd-mobile';\r\nimport { withRouter } from \"react-router-dom\";\r\nimport './index.scss'\r\n\r\nclass topBar extends React.Component {\r\n    state = {};\r\n    render() {\r\n        return (\r\n            <div className=\"topBar\">\r\n                <NavBar\r\n                    mode=\"light\"\r\n                    icon={<Icon type=\"ellipsis\" />}\r\n                    onLeftClick={() => {}}\r\n                    rightContent={[\r\n                        <Icon\r\n                            key=\"0\"\r\n                            type=\"search\"\r\n                            style={{ marginRight: '16px' }}\r\n                            onClick={() => {\r\n                                this.props.history.push('/search');\r\n                            }}\r\n                        />\r\n                    ]}\r\n                >\r\n                    云音乐\r\n                </NavBar>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(topBar)\r\n","import axios from 'axios';\r\n\r\n\r\nvar request = axios.create({\r\n    baseURL: 'https://autumnfish.cn'\r\n});\r\n//配置axios全局配置\r\nrequest.defaults.transformResponse = [\r\n    data => {\r\n        // 在传递给 then/catch 前，把返回的大数字做安全处理\r\n        return data;\r\n    }\r\n];\r\n\r\n// 添加请求拦截器\r\nrequest.interceptors.request.use(\r\n    config => {\r\n        return config;\r\n    },\r\n    err => {\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\n// 添加响应拦截器\r\nrequest.interceptors.response.use(\r\n    response => {\r\n        return JSON.parse(response.data);\r\n    },\r\n    err => {\r\n        return Promise.reject(err);\r\n    }\r\n);\r\n\r\nexport default request\r\n","import request from '../utils/request'\r\n\r\nfunction getHotSongMenu() {\r\n  return request({\r\n    method: 'get',\r\n    url: '/personalized',\r\n    params: {\r\n      t: Date.now()\r\n    }\r\n  })\r\n}\r\n\r\nfunction getDetails(id) {\r\n  return request({\r\n    method: 'get',\r\n    url: '/playlist/detail',\r\n    params: {\r\n      id,\r\n      t: Date.now()\r\n    }\r\n  })\r\n}\r\n\r\nfunction getPlaylist(id) {\r\n  return request({\r\n    method: 'get',\r\n    url: '/simi/playlist',\r\n    params: {\r\n      id,\r\n      t: Date.now()\r\n    }\r\n  })\r\n}\r\n\r\nexport { getHotSongMenu, getDetails, getPlaylist }\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { getHotSongMenu } from '../../../../../api/song_menu'\r\nimport { List } from 'antd-mobile'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass songList extends React.Component {\r\n  state = {\r\n    songList: []\r\n  }\r\n  componentDidMount() {\r\n    this.getSongList()\r\n  }\r\n  songMenu(item) {\r\n    this.props.history.push('/songMenu/' + item.id)\r\n  }\r\n  async getSongList() {\r\n    try {\r\n      let res = await getHotSongMenu()\r\n      this.setState(\r\n        {\r\n          songList: res.result\r\n        },\r\n        () => this.props.isLoad()\r\n      )\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='songList' ref={val => (this.recommend = val)}>\r\n        <div className='title'>推荐歌单</div>\r\n        <List>\r\n          <ul>\r\n            {this.state.songList.map((item, index) => {\r\n              return (\r\n                <li key={index} onClick={() => this.songMenu(item)}>\r\n                  <div className='imgBox'>\r\n                    <img\r\n                      src=''\r\n                      alt=''\r\n                      data-url={item.picUrl}\r\n                    />\r\n                  </div>\r\n                  <div>{item.name}</div>\r\n                  <i className='iconfont icon-kefu'> {Math.ceil(item.playCount / 10000)}万</i>\r\n                </li>\r\n              )\r\n            })}\r\n          </ul>\r\n        </List>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(songList)\r\n","import React from 'react';\r\nimport './index.css';\r\nimport { Carousel, WingBlank } from 'antd-mobile';\r\nimport SongList from './songList';\r\nimport { getBanner } from '../../../../api/banner';\r\n\r\nexport default class recommend extends React.Component {\r\n    state = {\r\n        bannerList: null\r\n    };\r\n    componentDidMount() {\r\n        this.getBanners()\r\n        // this.$lazyLoading(this.recommend)\r\n    }\r\n    async getBanners() {\r\n        try {\r\n            let res = await getBanner({\r\n                type: 1\r\n            });\r\n            this.setState({\r\n                bannerList: res.banners\r\n            });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const {bannerList} = this.state\r\n        return (\r\n            <div className=\"recommend\" id=\"recommend\" ref={val => this.recommend = val}>\r\n                <div >\r\n                    <div className=\"bg\"></div>\r\n                    <div className=\"carousel\">\r\n                        <WingBlank>\r\n                           {bannerList&& <Carousel\r\n                                autoplay={true}\r\n                                infinite\r\n                            >\r\n                                {bannerList.map((item, index) => (\r\n                                    <div\r\n                                        key={index}\r\n                                        style={{\r\n                                            display: 'inline-block',\r\n                                            width: '100%',\r\n                                            height: 150\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            src={item.imageUrl}\r\n                                            alt=\"\"\r\n                                            style={{\r\n                                                width: '100%',\r\n                                                height: '150px',\r\n                                                verticalAlign: 'top'\r\n                                            }}\r\n                                            data-url={item.imageUrl}\r\n                                            onLoad={() => {\r\n                                                // fire window resize event to change height\r\n                                                window.dispatchEvent(\r\n                                                    new Event('resize')\r\n                                                );\r\n                                                this.setState({\r\n                                                    imgHeight: 'auto'\r\n                                                });\r\n                                            }}\r\n                                        />\r\n                                    </div>\r\n                                ))}\r\n                            </Carousel>}\r\n                        </WingBlank>\r\n                    </div>\r\n                    <div className=\"song-list\">\r\n                        <SongList isLoad={this.props.isLoad}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import request from '../utils/request';\r\n\r\nfunction getBanner(type) {\r\n    return request({\r\n        method: 'get',\r\n        url: '/banner',\r\n        params:{\r\n            type,\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\n\r\nexport {\r\n    getBanner\r\n}","import request from '../utils/request';\r\n\r\nfunction singerType({cat,initial}) {\r\n    return request({\r\n        method: 'get',\r\n        url: '/artist/list',\r\n        params:{\r\n            cat,\r\n            initial,\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\n\r\nfunction getSongList({id}) {\r\n    return request({\r\n        method: 'get',\r\n        url: '/artists',\r\n        params:{\r\n            id,\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\nfunction getSingerDesc(id) {\r\n    return request({\r\n        method: 'get',\r\n        url: '/artist/album',\r\n        params:{\r\n            id,\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\n\r\nexport {\r\n    singerType,\r\n    getSongList,\r\n    getSingerDesc\r\n}","import React from 'react'\r\nimport './index.css'\r\nimport { List } from 'antd-mobile'\r\nimport { singerType } from '../../../../api/singer'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst Item = List.Item\r\n\r\nclass singer extends React.Component {\r\n  state = {\r\n    index: null,\r\n    letterIndex: null,\r\n    data: [\r\n      { name: '入驻歌手', index: 5001 },\r\n      { name: '华语男歌手', index: 1001 },\r\n      { name: '华语女歌手', index: 1002 },\r\n      { name: '华语组合', index: 1003 },\r\n      { name: '欧美男歌手', index: 2001 },\r\n      { name: '欧美女歌手', index: 2002 },\r\n      { name: '欧美组合', index: 2003 },\r\n      { name: '日本男歌手', index: 6001 },\r\n      { name: '日本女歌手', index: 6002 },\r\n      { name: '日本组合', index: 6003 },\r\n      { name: '韩国男歌手', index: 7001 },\r\n      { name: '韩国女歌手', index: 7002 },\r\n      { name: '韩国组合', index: 7003 },\r\n      { name: '其他男歌手', index: 4001 },\r\n      { name: '其他女歌手', index: 4002 },\r\n      { name: '其他组合', index: 4003 }\r\n    ],\r\n\r\n    letter: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q'],\r\n    singerList: []\r\n  }\r\n  screen(_index) {\r\n    this.setState({ index: _index })\r\n    this.loadList({\r\n      cat: this.state.data[_index].index,\r\n      initial: this.state.letterIndex !== null ? this.state.letter[this.state.letterIndex] : undefined\r\n    })\r\n    this.setState({ singerList: [] })\r\n  }\r\n  letterScreen(_index) {\r\n    this.setState({ letterIndex: _index })\r\n    this.loadList({\r\n      cat: this.state.index !== null ? this.state.data[this.state.index].index : undefined,\r\n      initial: this.state.letter[_index]\r\n    })\r\n    this.setState({ singerList: [] })\r\n  }\r\n  async componentDidMount() {\r\n    this.loadList({ cat: 1001 })\r\n  }\r\n\r\n  async loadList({ cat, initial }) {\r\n    try {\r\n      let res = await singerType({ cat, initial })\r\n      this.setState({ singerList: res.artists }, () => this.props.isLoad())\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className='singer'>\r\n        <div id='classify' className='classify'>\r\n          <ul>\r\n            <li className='title'>分类(默认热门):</li>\r\n            {this.state.data.map((item, index) => {\r\n              return (\r\n                <li\r\n                  onClick={() => this.screen(index)}\r\n                  key={index}\r\n                  className={index === this.state.index ? 'activate' : ''}\r\n                >\r\n                  {item.name}\r\n                </li>\r\n              )\r\n            })}\r\n          </ul>\r\n        </div>\r\n        <div className='letter' id='letter'>\r\n          <ul>\r\n            <li className='title'>首字母:</li>\r\n            {this.state.letter.map((item, index) => {\r\n              return (\r\n                <li\r\n                  onClick={() => this.letterScreen(index)}\r\n                  key={index}\r\n                  className={index === this.state.letterIndex ? 'letter-activate' : ''}\r\n                >\r\n                  {item}\r\n                </li>\r\n              )\r\n            })}\r\n          </ul>\r\n        </div>\r\n        <div className='list'>\r\n          <List>\r\n            {this.state.singerList.map((item, index) => {\r\n              return (\r\n                <div className='item' key={index}>\r\n                  <Item\r\n                    thumb={\r\n                      <img\r\n                        src='http://img4.imgtn.bdimg.com/it/u=891174751,554927679&fm=26&gp=0.jpg'\r\n                        data-url={item.picUrl}\r\n                        alt=''\r\n                      />\r\n                    }\r\n                    onClick={() => {\r\n                      this.props.history.push(`/singerDetails/${item.id}`)\r\n                    }}\r\n                  >\r\n                    {item.name}\r\n                  </Item>\r\n                </div>\r\n              )\r\n            })}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(singer)\r\n","import React from 'react'\r\nimport './index.scss'\r\nimport { List, Grid } from 'antd-mobile'\r\nimport { getRanking } from '../../../../api/ranking'\r\nimport { getDetails } from '../../../../api/song_menu'\r\nimport { withRouter } from 'react-router-dom'\r\nconst Item = List.Item\r\nconst Brief = Item.Brief\r\n\r\nclass ranking extends React.Component {\r\n  state = {\r\n    data: [1, 2, 3, 4, 5],\r\n    authorityList: [],\r\n    globalList: []\r\n  }\r\n  componentDidMount() {\r\n    this.getRanking()\r\n  }\r\n  async getRanking() {\r\n    try {\r\n      let res = await getRanking()\r\n      this.setState({ authorityList: res.list.slice(0, 4) }, () => {\r\n        this.state.authorityList.forEach((item, index) => {\r\n          this.getSongMenu(item.id, index)\r\n          this.props.isLoad()\r\n        })\r\n      })\r\n      this.setState({ globalList: res.list.slice(4, res.list.length) })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  async getSongMenu(id, index) {\r\n    try {\r\n      let res = await getDetails(id)\r\n      let arr = this.state.authorityList\r\n      arr[index].tags = res.playlist.tracks.slice(0, 3)\r\n      this.setState({ authorityList: arr })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n\r\n  songMenu(item) {\r\n    this.props.history.push('/songMenu/' + item.id)\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='ranking'>\r\n        <div className='box'>\r\n          <div className='authority'>\r\n            <div className='title'>官方榜</div>\r\n            <List>\r\n              {this.state.authorityList.map((item, index) => {\r\n                return (\r\n                  <Item\r\n                    key={index}\r\n                    thumb={<img src=\"\" alt='' data-url={item.coverImgUrl}/>}\r\n                    onClick={() => {\r\n                      this.songMenu(item)\r\n                    }}\r\n                  >\r\n                    {this.state.authorityList[index].tags.map((item, index) => {\r\n                      return (\r\n                        <Brief key={index}>\r\n                          {index + 1}. {item.name}\r\n                        </Brief>\r\n                      )\r\n                    })}\r\n                  </Item>\r\n                )\r\n              })}\r\n            </List>\r\n          </div>\r\n          <div className='global'>\r\n            <div className='title'>全球榜</div>\r\n            <Grid\r\n              hasLine={false}\r\n              data={this.state.globalList}\r\n              columnNum={3}\r\n              renderItem={item => (\r\n                <div\r\n                  onClick={() => {\r\n                    this.songMenu(item)\r\n                  }}\r\n                >\r\n                  <img\r\n                    src=\"\"\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      borderRadius: '5px'\r\n                    }}\r\n                    data-url={item.coverImgUrl}\r\n                    alt=''\r\n                  />\r\n                  <div\r\n                    style={{\r\n                      color: '#888',\r\n                      fontSize: '14px',\r\n                      marginTop: '12px'\r\n                    }}\r\n                  >\r\n                    <span>{item.updateFrequency}</span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(ranking)\r\n","import request from '../utils/request';\r\n\r\nfunction getRanking() {\r\n    return request({\r\n        method: 'get',\r\n        url: '/toplist',\r\n        params:{\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\n\r\nexport {\r\n    getRanking\r\n}","import React from 'react'\r\nimport TopBar from './components/topBar'\r\nimport './index.scss'\r\nimport { Tabs, WhiteSpace } from 'antd-mobile'\r\nimport Recommend from './components/recommend'\r\nimport Singer from './components/singer'\r\nimport Ranking from './components/ranking'\r\n\r\nconst tabs = [{ title: '推荐', sub: '1' }, { title: '歌手', sub: '2' }, { title: '排行榜', sub: '3' }]\r\n\r\nexport default class home extends React.Component {\r\n  state = {}\r\n  render() {\r\n    return (\r\n      <div className='home'>\r\n        <TopBar />\r\n        <Tabs\r\n          tabs={tabs}\r\n          initialPage={0}\r\n          tabBarBackgroundColor='#d44439'\r\n          tabBarInactiveTextColor='#e4e4e4'\r\n          tabBarActiveTextColor='#f1f1f1'\r\n          swipeable={true}\r\n          prerenderingSiblingsNumber={false}\r\n        >\r\n          <div className='tabBox' ref={val => (this.recommend = val)}>\r\n            <Recommend isLoad={() => this.$lazyLoading(this.recommend)} />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              height: '100%',\r\n              backgroundColor: '#f2f3f4'\r\n            }}\r\n          >\r\n            <div className='tabBox' ref={val => (this.singer = val)}>\r\n              <Singer isLoad={()=> this.$lazyLoading(this.singer)}/>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              height: '100%',\r\n              backgroundColor: '#f2f3f4'\r\n            }}\r\n          >\r\n            <div className='tabBox' ref={val => this.ganking = val}>\r\n              <Ranking isLoad={()=> this.$lazyLoading(this.ganking)}/>\r\n            </div>\r\n          </div>\r\n        </Tabs>\r\n        <WhiteSpace />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export const SET_MUC_DATA = 'SET_MUC_DATA'","import { createStore, applyMiddleware, compose } from 'redux';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport { musicUrl } from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = {\r\n    musicUrl: createStore(musicUrl, composeEnhancers(applyMiddleware(thunk)))\r\n};\r\n\r\nexport default store;","import {SET_MUC_DATA} from './actionType';\r\n\r\nfunction musicUrl(data, action) {\r\n    switch (action.type) {\r\n        case SET_MUC_DATA:\r\n            return data = action.data;\r\n        default:\r\n            return data;\r\n    }\r\n}\r\n\r\nexport { musicUrl };\r\n\r\n","import {SET_MUC_DATA} from './actionType';\r\n\r\nexport const setMucData = (data) => {\r\n    return {\r\n        type:SET_MUC_DATA,\r\n        data\r\n    }\r\n}\r\n\r\nexport const addAsync = data => {\r\n    return dispatch => {\r\n        setTimeout(() => {\r\n            dispatch(setMucData(data))\r\n        }, 2000);\r\n    }\r\n}\r\n","import React from 'react'\r\nimport './index.scss'\r\nimport { NavBar, Icon, Button } from 'antd-mobile'\r\nimport { getDetails } from '../../api/song_menu'\r\nimport store from '../../redux'\r\nimport { setMucData } from '../../redux/actionCreator'\r\nimport { AutoSizer, List } from 'react-virtualized'\r\n\r\nexport default class songMenu extends React.Component {\r\n  state = {\r\n    data: {\r\n      name: '歌单',\r\n      tracks: [],\r\n      subscribedCount: 0,\r\n      coverImgUrl: 'http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg'\r\n    },\r\n    bgStyle: {\r\n      backgroundImage: 'url(\"http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg\")'\r\n    },\r\n    show: {},\r\n    rollPlace: false\r\n  }\r\n  async componentDidMount() {\r\n    this.setState({ show: { transform: 'rotate(0deg)' } })\r\n    document.documentElement.scrollTop = 0\r\n    try {\r\n      let res = await getDetails(this.props.match.params.id)\r\n      this.setState({ data: res.playlist })\r\n      this.setState({\r\n        bgStyle: {\r\n          backgroundImage: `url(\"${res.playlist.coverImgUrl}\")`\r\n        }\r\n      })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 播放音乐\r\n  play(list, index, e) {\r\n    let arr = []\r\n    list.forEach(item => {\r\n      arr.push({\r\n        id: item.id,\r\n        name: item.name,\r\n        artId: item.ar[Math.floor(Math.random() * item.ar.length)].id,\r\n        arName: item.ar[0].name\r\n      })\r\n    })\r\n    store.musicUrl.dispatch(setMucData({ list: arr, index, even: e }))\r\n  }\r\n\r\n  rowRenderer({ index, style, key }) {\r\n    index = index - 4\r\n    let item = this.state.data.tracks[index - 1]\r\n    let tracks = this.state.data.tracks\r\n    if (index < 0) {\r\n      return <div className='placeholder' style={style} key={key}></div>\r\n    }\r\n    if (index === 0) {\r\n      let tempStyle = { ...style }\r\n      tempStyle.height = 45\r\n      return (\r\n        <div className='title' style={tempStyle} key={key}>\r\n          <div>\r\n            <i className='iconfont icon-bofang' onClick={e => this.play(tracks, 0, e)}></i>\r\n            <span>\r\n              播放全部\r\n              <span>\r\n                (共{tracks.length}\r\n                首)\r\n              </span>\r\n            </span>\r\n          </div>\r\n          <Button>\r\n            <i className='iconfont icon-add'></i> 收藏\r\n            <span className='num'>\r\n              ({Math.ceil(this.state.data.subscribedCount / 1000) / 10}\r\n              万)\r\n            </span>\r\n          </Button>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className='box' style={style} key={key} onClick={e => this.play(this.state.data.tracks, index, e)}>\r\n          <div className='index'>{index}</div>\r\n          <div>\r\n            {item.name} <div>{item.ar[0].name}</div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  onRowsRendered({ startIndex }) {\r\n    let { rollPlace } = this.state\r\n    if (startIndex > 8 && !rollPlace) {\r\n      this.setState({ rollPlace: true })\r\n    } else if (startIndex <= 8 && rollPlace) {\r\n      this.setState({ rollPlace: false })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { tracks } = this.state.data\r\n    return (\r\n      <div id='songMenu' className='songMenu' ref={val => (this.songMenu = val)} style={this.state.show}>\r\n        <div className='cover'>\r\n          <div className='bg' style={this.state.bgStyle}></div>\r\n          <div className='content'>\r\n            <NavBar\r\n              mode='light'\r\n              icon={<Icon type='left' />}\r\n              onLeftClick={() => {\r\n                this.setState({\r\n                  show: { transform: 'rotate(-90deg)' }\r\n                })\r\n                setTimeout(() => {\r\n                  this.props.history.go(-1)\r\n                }, 400)\r\n              }}\r\n              leftContent={<span className='title'>{this.state.data.name}</span>}\r\n            ></NavBar>\r\n            <div className='synopsis'>\r\n              <img src={this.state.data.coverImgUrl} alt='' />\r\n              <div>\r\n                <div className='title'>{this.state.data.name}</div>\r\n                <div className='text'>\r\n                  <img src='http://p1.music.126.net/QWMV-Ru_6149AKe0mCBXKg==/1420569024374784.jpg' alt='' />\r\n                  网易云音乐\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='praise'>\r\n              <ul>\r\n                <li>\r\n                  <i className='iconfont icon-wodefankui'></i>\r\n                  <span>评论</span>\r\n                </li>\r\n                <li>\r\n                  <i className='iconfont icon-shoucang'></i>\r\n                  <span>点赞</span>\r\n                </li>\r\n                <li>\r\n                  <i className='iconfont icon-add'></i>\r\n                  <span>收藏</span>\r\n                </li>\r\n                <li>\r\n                  <i className='iconfont icon-icon_threeline_fill'></i>\r\n                  <span>更多</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id='songMenuList' className='songMenuList' style={{background: this.state.rollPlace? '#fff':'transparent'}}>\r\n          <div>\r\n            {tracks.length > 0 && (\r\n              <AutoSizer>\r\n                {({ height, width }) => (\r\n                  <List\r\n                    height={height}\r\n                    rowCount={tracks.length + 5}\r\n                    rowHeight={59}\r\n                    rowRenderer={this.rowRenderer.bind(this)}\r\n                    width={width}\r\n                    onRowsRendered={this.onRowsRendered.bind(this)}\r\n                  />\r\n                )}\r\n              </AutoSizer>\r\n            )}\r\n          </div>\r\n\r\n          {tracks.length === 0 && <Icon type='loading' />}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from 'react'\r\nimport './index.scss'\r\nimport { Icon, Button } from 'antd-mobile'\r\nimport { getSongList } from '../../api/singer'\r\nimport store from '../../redux'\r\nimport { setMucData } from '../../redux/actionCreator'\r\nimport { AutoSizer, List } from 'react-virtualized'\r\n\r\nexport default class singerDetails extends React.Component {\r\n  state = {\r\n    songList: {\r\n      artist: {\r\n        picUrl: 'http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg',\r\n        name: '歌单'\r\n      },\r\n      hotSongs: []\r\n    },\r\n    show: {}\r\n  }\r\n  componentDidMount() {\r\n    this.getSongList()\r\n    setTimeout(() => {\r\n      this.setState({ show: { transform: 'rotate(0deg)' } })\r\n    }, 0)\r\n  }\r\n  async getSongList() {\r\n    try {\r\n      let res = await getSongList({\r\n        id: this.props.match.params.id\r\n      })\r\n      this.setState({ songList: res })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 播放音乐\r\n  play(list, index, e) {\r\n    let arr = []\r\n    list.forEach(item => {\r\n      arr.push({\r\n        id: item.id,\r\n        name: item.name,\r\n        artId: item.ar[Math.floor(Math.random() * item.ar.length)].id,\r\n        arName: item.ar[0].name\r\n      })\r\n    })\r\n    store.musicUrl.dispatch(setMucData({ list: arr, index, even: e }))\r\n  }\r\n\r\n  rowRenderer({ index, style, key }) {\r\n    index = index - 4\r\n    const item = this.state.songList.hotSongs[index - 1]\r\n    const { songList } = this.state\r\n    if (index < 0) {\r\n      return <div className='placeholder' key={key} style={style}></div>\r\n    }\r\n    if (index === 0) {\r\n      let tempStyle = { ...style }\r\n      tempStyle.height = 45\r\n      return (\r\n        <div className='title' key={key} style={tempStyle}  >\r\n          <div>\r\n            <i className='iconfont icon-bofang' onClick={e => this.play(songList.hotSongs, 0, e)}></i>\r\n            <span>\r\n              播放全部\r\n              <span>{songList.hotSongs && `(共${songList.hotSongs.length}首)`}</span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div className='box' key={key} style={style} onClick={e => this.play(songList.hotSongs, index, e)}>\r\n        <span className='index'>{index}</span>\r\n        <div className=\"item\">\r\n          {item.name}\r\n          <div>\r\n            {item.ar[0].name} - {item.name}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { songList } = this.state\r\n    return (\r\n      <div id='singerDetails' className='singerDetails' style={this.state.show}>\r\n        <div\r\n          className='cover'\r\n          style={{\r\n            backgroundImage: `url(${this.state.songList.artist.picUrl})`\r\n          }}\r\n        >\r\n          <Button className='btn' inline type='warning'>\r\n            <i className='iconfont icon-add'> 收藏</i>\r\n          </Button>\r\n        </div>\r\n        <div id='songMenuList' className='songMenuList'>\r\n          {this.state.songList.hotSongs.length > 0 && (\r\n            <AutoSizer>\r\n              {({ height, width }) => (\r\n                <List\r\n                  height={height}\r\n                  rowCount={this.state.songList.hotSongs.length + 5}\r\n                  rowHeight={59}\r\n                  rowRenderer={this.rowRenderer.bind(this)}\r\n                  width={width}\r\n                />\r\n              )}\r\n            </AutoSizer>\r\n          )}\r\n\r\n          {this.state.songList.hotSongs.length === 0 && <Icon type='loading' />}\r\n        </div>\r\n\r\n        <div className='top'>\r\n          <Icon\r\n            type='left'\r\n            onClick={() => {\r\n              this.setState({\r\n                show: { transform: 'rotate(-90deg)' }\r\n              })\r\n              setTimeout(() => {\r\n                this.props.history.go(-1)\r\n              }, 400)\r\n            }}\r\n          />\r\n          {this.state.songList.artist.name}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import request from '../utils/request';\r\n\r\nfunction getMusicUrl(id) {\r\n    return request({\r\n        method: 'get',\r\n        url: '/song/url',\r\n        params:{\r\n            id,\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\nfunction getMusicLyc(id) {\r\n    return request({\r\n        method: 'get',\r\n        url: '/lyric',\r\n        params:{\r\n            id,\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\n\r\nexport {\r\n    getMusicUrl,\r\n    getMusicLyc,\r\n\r\n}","function myToast(msg, tiem = 3000, type) {\r\n    let popup = document.createElement('div');\r\n    popup.innerText = msg;\r\n    document.body.append(popup);\r\n    popup.style.position = 'fixed';\r\n    popup.style.opacity = 0;\r\n    popup.style.left = '50%';\r\n    popup.style.textAlign='center';\r\n    switch (type) {\r\n        case 'top':\r\n            popup.style.top = '-5%';\r\n            popup.style.transform = 'translateX(-50%)';\r\n            setTimeout(() => {\r\n                popup.style.top = '2%';\r\n            }, 0);\r\n            break;\r\n        case 'bottom':\r\n            popup.style.top = '110%';\r\n            popup.style.transform = 'translateX(-50%)';\r\n            setTimeout(() => {\r\n                popup.style.top = '90%';\r\n            }, 0);\r\n            break;\r\n        default:\r\n            popup.style.top = '50%';\r\n            popup.style.transform = 'translateX(-50%) translateY(-50%)';\r\n            break;\r\n    }\r\n    popup.style.zIndex = 99999999999;\r\n    popup.style.transition = 'all .5s';\r\n    popup.style.padding = '8px 10px';\r\n    popup.style.backgroundColor = 'rgba(0,0,0,.7)';\r\n    popup.style.color = '#fff';\r\n    popup.style.borderRadius = '5px';\r\n    setTimeout(() => {\r\n        popup.style.opacity = 1;\r\n    }, 0);\r\n    setTimeout(() => {\r\n        popup.style.opacity = 0;\r\n    }, tiem);\r\n    setTimeout(() => {\r\n        document.body.removeChild(popup);\r\n    }, tiem + 500);\r\n}\r\nexport default myToast;\r\n","import React from 'react'\r\nimport './index.scss'\r\nimport { List, Icon, Modal } from 'antd-mobile'\r\nimport { getMusicUrl, getMusicLyc } from '../../api/music'\r\nimport { getSingerDesc } from '../../api/singer'\r\nimport { playAnimation } from '../../utils/playAnimation'\r\nimport store from '../../redux'\r\nimport myToast from '../../utils/myToast'\r\n\r\nconst Item = List.Item\r\nconst Brief = Item.Brief\r\n\r\nexport default class playMusic extends React.Component {\r\n  state = {\r\n    isPlay: false,\r\n    musicUrl: '',\r\n    show: 0,\r\n    musicList: [],\r\n    index: 0,\r\n    picUrl: '',\r\n    musicName: '',\r\n    musicAr: '',\r\n    playLength: {\r\n      current: 0,\r\n      end: 0\r\n    },\r\n    platPattern: 'listCycle',\r\n    lycArr: null,\r\n    currentLyric: null,\r\n    isShowLyc: false,\r\n    popupShow: false,\r\n    isTouchDown: false\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('touchmove', event => {\r\n      if (!this.state.isTouchDown) {\r\n        return\r\n      }\r\n      var x = event.changedTouches[0].clientX - this.progressBox.offsetLeft\r\n      this.setProgress(x)\r\n    })\r\n    store.musicUrl.subscribe(() => {\r\n      let data = store.musicUrl.getState()\r\n      playAnimation(data.even)\r\n      this.setState({ musicList: data.list }, () => {\r\n        this.setState({ index: data.index }, () => {\r\n          this.setMusicUrl()\r\n        })\r\n      })\r\n    })\r\n  }\r\n  //把歌词文本处理成合适的数组\r\n  lyricDispose(lyric) {\r\n    let arr = lyric.split('\\n') //把歌词用/n分割成数组\r\n    let lyricArr = []\r\n    for (let i = 0; i < arr.length; i++) {\r\n      if (!arr[i]) break\r\n      let timeStr = arr[i].match(/\\[.*\\]/g)[0] //获取时间字符串\r\n      timeStr = timeStr.substring(1, timeStr.length - 1)\r\n      let str = arr[i].replace(/\\[.*\\]/g, '') //截取歌词字符串\r\n      let timeArr = timeStr.split('][') //截取时间字符串,并且把同一项的多个时间分割成数组\r\n      for (let j = 0; j < timeArr.length; j++) {\r\n        //遍历时间数组\r\n        lyricArr.push({\r\n          time: Number(timeArr[j].split(':')[1]) + Number(timeArr[j].split(':')[0]) * 60,\r\n          str\r\n        }) //把每一个时间和对应的歌词push到数组中\r\n      }\r\n    }\r\n    return lyricArr.sort((a, b) => {\r\n      return a.time - b.time\r\n    }) //把数组按照时间大小排序并返回\r\n  }\r\n  //设置音乐url\r\n  async setMusicUrl() {\r\n    this.setState({ musicUrl: '' })\r\n    this.progress.style.width = ''\r\n    try {\r\n      var res = await getMusicUrl(this.state.musicList[this.state.index].id)\r\n      if (res.data[0].url === null) {\r\n        myToast(`歌曲《${this.state.musicList[this.state.index].name}》暂无版权,播放失败!`, 2000)\r\n        this.MusicChange(1)\r\n      }\r\n      this.setState({ musicUrl: res.data[0].url }, () => {\r\n        if (this.state.show === 0) {\r\n          this.setState({ show: 60 })\r\n        }\r\n      })\r\n      this.getSingerDesc(this.state.musicList[this.state.index].artId)\r\n      this.setState({\r\n        musicName: this.state.musicList[this.state.index].name\r\n      })\r\n      this.setState({\r\n        musicAr: this.state.musicList[this.state.index].arName\r\n      })\r\n      let lyc = await getMusicLyc(this.state.musicList[this.state.index].id)\r\n      if ('lrc' in lyc) {\r\n        this.setState({ lycArr: this.lyricDispose(lyc.lrc.lyric) })\r\n      } else {\r\n        this.setState({ lycArr: '' })\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 点击播放或暂停按钮\r\n  Playing(_this) {\r\n    let audio = document.getElementById('audio')\r\n    if (_this.state.isPlay) {\r\n      audio.pause()\r\n    } else {\r\n      audio.play()\r\n    }\r\n  }\r\n  // 显示详细播放模块\r\n  showAll(_this) {\r\n    _this.setState({ show: '100%' })\r\n    let tool = document.getElementsByClassName('tool')[0]\r\n    tool.style.display = 'none'\r\n  }\r\n  // 隐藏详细播放模块\r\n  unShowAll(_this) {\r\n    _this.setState({ show: 60 })\r\n    let tool = document.getElementsByClassName('tool')[0]\r\n    tool.style.display = 'flex'\r\n    tool.style.opacity = 0\r\n    setTimeout(() => {\r\n      tool.style.opacity = 1\r\n    }, 0)\r\n  }\r\n  //当音乐播放时\r\n  timeupdate(_this) {\r\n    let audio = document.getElementById('audio')\r\n    // 是否播放结束\r\n    if (audio.ended && this.state.platPattern !== 'singleCycle') {\r\n      this.MusicChange(1)\r\n      return\r\n    }\r\n    if (this.state.show !== '100%') {\r\n      return\r\n    }\r\n    let currentTime = '0:00'\r\n    let duration = '0:00'\r\n    if (audio.currentTime > 0) {\r\n      currentTime = Math.floor(audio.currentTime)\r\n      let m = Math.floor(currentTime / 60).toString()\r\n      let s = (currentTime % 60).toString()\r\n      currentTime = `${m}:${s.padStart(2, '0')}`\r\n    }\r\n    if (audio.duration > 0) {\r\n      duration = Math.floor(audio.duration)\r\n      let m = Math.floor(duration / 60).toString()\r\n      let s = (duration % 60).toString()\r\n      duration = `${m}:${s.padStart(2, '0')}`\r\n    }\r\n    _this.setState({\r\n      playLength: {\r\n        current: currentTime,\r\n        end: duration\r\n      }\r\n    })\r\n    if (!this.state.isTouchDown) {\r\n      let percentage = audio.currentTime / audio.duration\r\n      this.progress.style.width = percentage * this.progressBox.offsetWidth + 'px'\r\n    }\r\n    if (this.state.lycArr) {\r\n      // 调整歌词显示\r\n      let current = audio.currentTime + 0.3 //获取当前播放时间\r\n      for (let i = this.state.lycArr.length - 1; i >= 0; i--) {\r\n        //倒序遍历歌词数组\r\n        if (this.state.lycArr[i].time < current) {\r\n          if (this.state.currentLyric !== i) {\r\n            //数组下标i的时间小于当前时间时,设置当前显示的歌词为歌词数组的下标i\r\n            this.lycBrief.innerText = this.state.lycArr[i].str\r\n            this.allLyc.style.top = -i * 50 + 'px'\r\n          }\r\n          this.setState({ currentLyric: i }) //设置当前显示的歌词下标\r\n          return //退出循环\r\n        }\r\n      }\r\n      // 如果上面循环未有结果,设置当前显示歌词为空,歌词滚动到初始位置\r\n      this.setState({ currentLyric: null })\r\n      this.allLyc.style.top = '50px'\r\n    }\r\n  }\r\n  // 获取歌手详情设置专辑封面\r\n  async getSingerDesc(id) {\r\n    try {\r\n      let res = await getSingerDesc(id)\r\n      this.setState({\r\n        picUrl: res.artist.picUrl\r\n      })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  //单首音乐播放完毕\r\n  MusicChange(index) {\r\n    var _index = null\r\n    switch (this.state.platPattern) {\r\n      case 'listCycle':\r\n      case 'singleCycle': {\r\n        if (index === 1) {\r\n          if (this.state.index !== this.state.musicList.length - 1) {\r\n            _index = this.state.index + 1\r\n          } else {\r\n            _index = 0\r\n          }\r\n        }\r\n        if (index === -1) {\r\n          if (this.state.index !== 0) {\r\n            _index = this.state.index - 1\r\n          } else {\r\n            _index = this.state.musicList.length - 1\r\n          }\r\n        }\r\n        this.setState({ index: _index }, () => {\r\n          this.setMusicUrl()\r\n        })\r\n        break\r\n      }\r\n      case 'random': {\r\n        _index = Math.floor(Math.random() * this.state.musicList.length)\r\n        this.setState({ index: _index }, () => {\r\n          this.setMusicUrl()\r\n        })\r\n        break\r\n      }\r\n      default: {\r\n        break\r\n      }\r\n    }\r\n  }\r\n  // 显示音乐列表弹出层\r\n  showPopup() {\r\n    this.setState(\r\n      {\r\n        popupShow: !this.state.popupShow\r\n      },\r\n      () => {\r\n        if (this.state.popupShow) {\r\n          this.popupBox.scrollTop = this.state.index * 40\r\n        }\r\n      }\r\n    )\r\n  }\r\n  // 点击进度条\r\n  progressClick(e) {\r\n    this.setProgress(e.clientX - this.progressBox.offsetLeft)\r\n    this.setMucTiem()\r\n  }\r\n  setProgress(x) {\r\n    this.progress.style.width = x + 'px'\r\n  }\r\n  setMucTiem() {\r\n    if (!this.state.isPlay) {\r\n      return\r\n    }\r\n    let percentage = this.progress.offsetWidth / this.progressBox.offsetWidth\r\n    if (percentage < 0.04) {\r\n      percentage = 0\r\n    }\r\n    this.audio.currentTime = this.audio.duration * percentage\r\n  }\r\n  render() {\r\n    const show = this.state.show === \"100%\"\r\n    return (\r\n      <div className='playMusic' style={{ bottom: this.state.show }}>\r\n        <div className='bg'>\r\n          <div className='before' style={{ backgroundImage: `url(${this.state.picUrl})` }}></div>\r\n        </div>\r\n        <div className='tool'>\r\n          <Item thumb={this.state.picUrl} onClick={() => this.showAll(this)} ref={val => (this.img = val)}>\r\n            {this.state.musicName} <Brief>{this.state.musicAr}</Brief>\r\n          </Item>\r\n          <div className='btn'>\r\n            <i\r\n              onClick={() => this.Playing(this)}\r\n              className={this.state.isPlay ? 'iconfont icon-zanting' : 'iconfont icon-bofang'}\r\n            />\r\n            <i className='iconfont icon-yinleliebiao' onClick={() => this.showPopup()} />\r\n          </div>\r\n        </div>\r\n        <div className='audio'>\r\n            <audio\r\n              autoPlay\r\n              onTimeUpdate={() => this.timeupdate(this)}\r\n              controls\r\n              src={this.state.musicUrl}\r\n              onPlaying={() => {\r\n                this.setState({ isPlay: true })\r\n              }}\r\n              onPause={() => {\r\n                this.setState({ isPlay: false })\r\n              }}\r\n              id='audio'\r\n              loop={this.state.platPattern === 'singleCycle'}\r\n              ref={val => (this.audio = val)}\r\n            />\r\n          </div>\r\n        <div className='all'>\r\n          {show && (\r\n            <>\r\n              <Icon type='down' onClick={() => this.unShowAll(this)} />\r\n              <div className='title'>{this.state.musicName}</div>\r\n              <div className='singer'>{this.state.musicAr}</div>\r\n              <div className='lycBox' onClick={() => this.setState({ isShowLyc: !this.state.isShowLyc })}>\r\n                <div\r\n                  className='plate'\r\n                  style={{\r\n                    width: window.screen.width * 0.8,\r\n                    height: window.screen.width * 0.8,\r\n                    opacity: this.state.isShowLyc ? 0 : 1\r\n                  }}\r\n                  ref={val => (this.plate = val)}\r\n                >\r\n                  <img src={this.state.picUrl} alt='' />\r\n                </div>\r\n                <div className='lycBrief' style={{ opacity: this.state.isShowLyc ? 0 : 1 }}>\r\n                  <p ref={val => (this.lycBrief = val)}></p>\r\n                </div>\r\n                <div\r\n                  className='allLyc'\r\n                  style={{ opacity: this.state.isShowLyc ? 1 : 0 }}\r\n                  ref={val => (this.allLyc = val)}\r\n                >\r\n                  {this.state.lycArr &&\r\n                    this.state.lycArr.map((item, index) => {\r\n                      return (\r\n                        <p key={index} className={index === this.state.currentLyric ? 'current' : ''}>\r\n                          {item.str}\r\n                        </p>\r\n                      )\r\n                    })}\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className='allTool'>\r\n            <div className='progressBar'>\r\n              <span>{this.state.playLength.current}</span>\r\n              <div\r\n                className='progressBox'\r\n                onTouchStart={() => this.setState({ isTouchDown: true })}\r\n                onTouchEnd={() => {\r\n                  setTimeout(() => {\r\n                    this.setMucTiem()\r\n                    this.setState({ isTouchDown: false })\r\n                  }, 0)\r\n                }}\r\n                onClick={e => this.progressClick(e)}\r\n              >\r\n                <div ref={val => (this.progressBox = val)}>\r\n                  <div className='progress' ref={val => (this.progress = val)}></div>\r\n                </div>\r\n              </div>\r\n\r\n              <span>{this.state.playLength.end}</span>\r\n            </div>\r\n            <div className='control'>\r\n              {this.state.platPattern === 'listCycle' && (\r\n                <i\r\n                  className='iconfont icon-icon--'\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      platPattern: 'singleCycle'\r\n                    })\r\n                    myToast('单曲循环', 2000)\r\n                  }}\r\n                />\r\n              )}\r\n              {this.state.platPattern === 'singleCycle' && (\r\n                <i\r\n                  className='iconfont icon-danquxunhuan'\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      platPattern: 'random'\r\n                    })\r\n                    myToast('随机播放', 2000)\r\n                  }}\r\n                />\r\n              )}\r\n              {this.state.platPattern === 'random' && (\r\n                <i\r\n                  className='iconfont icon-suijibofang'\r\n                  onClick={() => {\r\n                    this.setState({\r\n                      platPattern: 'listCycle'\r\n                    })\r\n                    myToast('顺序播放', 2000)\r\n                  }}\r\n                />\r\n              )}\r\n              <i className='iconfont icon-shangyishoushangyige' onClick={() => this.MusicChange(-1)} />\r\n              <i\r\n                onClick={() => this.Playing(this)}\r\n                className={this.state.isPlay ? 'iconfont icon-zanting' : 'iconfont icon-bofang'}\r\n              />\r\n              <i className='iconfont icon-xiayigexiayishou' onClick={() => this.MusicChange(1)} />\r\n              <i className='iconfont icon-yinleliebiao' onClick={() => this.showPopup()} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Modal popup visible={this.state.popupShow} onClose={() => this.showPopup()} animationType='slide-up'>\r\n          <div className='songListPopup'>\r\n            <List\r\n              renderHeader={() => (\r\n                <div className='title'>\r\n                  <div className='left'>\r\n                    {this.state.platPattern === 'listCycle' && (\r\n                      <>\r\n                        <i\r\n                          className='iconfont icon-icon--'\r\n                          onClick={() => {\r\n                            this.setState({\r\n                              platPattern: 'singleCycle'\r\n                            })\r\n                          }}\r\n                        />\r\n                        顺序播放\r\n                      </>\r\n                    )}\r\n                    {this.state.platPattern === 'singleCycle' && (\r\n                      <>\r\n                        <i\r\n                          className='iconfont icon-danquxunhuan'\r\n                          onClick={() => {\r\n                            this.setState({\r\n                              platPattern: 'random'\r\n                            })\r\n                          }}\r\n                        />\r\n                        单曲循环\r\n                      </>\r\n                    )}\r\n                    {this.state.platPattern === 'random' && (\r\n                      <>\r\n                        <i\r\n                          className='iconfont icon-suijibofang'\r\n                          onClick={() => {\r\n                            this.setState({\r\n                              platPattern: 'listCycle'\r\n                            })\r\n                          }}\r\n                        />\r\n                        随机播放\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <i className='iconfont icon-guanbi' onClick={() => this.showPopup()} />\r\n                </div>\r\n              )}\r\n              className='popup-list'\r\n            >\r\n              <div className='box' ref={val => (this.popupBox = val)}>\r\n                <div>\r\n                  {this.state.musicList.map((item, index) => (\r\n                    <Item\r\n                      key={index}\r\n                      onClick={() =>\r\n                        this.setState({ index }, () => {\r\n                          this.setMusicUrl()\r\n                        })\r\n                      }\r\n                    >\r\n                      <span style={{ color: this.state.index === index ? '#d4473e' : '#a09191' }}>\r\n                        <i\r\n                          className='iconfont icon-bofang'\r\n                          style={{\r\n                            opacity: this.state.index === index ? 1 : 0\r\n                          }}\r\n                        />\r\n                        {item.name} - {item.arName}\r\n                      </span>\r\n                      <div className='ico'>\r\n                        <i className='iconfont icon-shoucang' />\r\n                        <i className='iconfont icon-RectangleCopy' />\r\n                      </div>\r\n                    </Item>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </List>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","function playAnimation(e) {\r\n    let root = document.getElementById('root');\r\n    let ico = document.createElement('i');\r\n    ico.className = 'iconfont icon-yinle animation';\r\n    ico.style.top = e.pageY - 5 + 'px';\r\n    ico.style.left = e.pageX - 5 + 'px';\r\n    root.append(ico);\r\n    setTimeout(() => {\r\n        ico.style.top = window.screen.height - 45 + 'px';\r\n        ico.style.left = '8%';\r\n        ico.style.fontSize = '30px'\r\n    }, 0);\r\n    setTimeout(() => {\r\n        ico.style.opacity = 0;\r\n    },1000)\r\n    setTimeout(() => {\r\n        root.removeChild(ico);\r\n    }, 2000);\r\n}\r\n\r\nexport { playAnimation };\r\n","import React from 'react';\r\nimport './index.scss';\r\nimport { searchMusic, getSearchHot } from '../../api/search';\r\nimport { getSingerDesc } from '../../api/singer';\r\nimport { getPlaylist } from '../../api/song_menu';\r\nimport { List, Tag } from 'antd-mobile';\r\nimport store from '../../redux';\r\nimport { setMucData } from '../../redux/actionCreator';\r\nconst Item = List.Item;\r\nconst Brief = Item.Brief;\r\nlet tiemId = null;\r\n\r\nexport default class search extends React.Component {\r\n    state = {\r\n        boxStyle: {},\r\n        key: '',\r\n        searchList: [],\r\n        singerData: {},\r\n        playlists: [],\r\n        searchHot: []\r\n    };\r\n    componentDidMount() {\r\n        setTimeout(() => {\r\n            this.setState({\r\n                boxStyle: {\r\n                    transform: 'translateX(0)'\r\n                }\r\n            });\r\n        }, 0);\r\n        let input = document.getElementById('input');\r\n        input.focus();\r\n        setTimeout(() => {\r\n            this.search.style.backgroundColor = '#f3f3f4';\r\n        }, 300);\r\n        this.getSearchHot();\r\n    }\r\n    // 获取搜索热词\r\n    async getSearchHot() {\r\n        try {\r\n            let res = await getSearchHot();\r\n            this.setState({ searchHot: res.result.hots });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    // 当搜索框值改变时\r\n    onChange() {\r\n        if (tiemId) {\r\n            clearInterval(tiemId);\r\n        }\r\n        tiemId = setTimeout(() => {\r\n            clearInterval(tiemId);\r\n            if (this.input.value.trim().length > 0) {\r\n                this.setState({ key: this.input.value }, () => {\r\n                    this.searchMusic(this.state.key);\r\n                });\r\n            } else {\r\n                this.setState({ searchList: [] });\r\n            }\r\n            this.box.style.transform = 'translateY(0)';\r\n        }, 500);\r\n    }\r\n    // 获取搜索内容\r\n    async searchMusic(key) {\r\n        try {\r\n            let res = await searchMusic(key);\r\n            this.getPlaylist(res.result.songs[0].id);\r\n            this.getSingerDesc(res.result.songs[0].artists[0].id);\r\n            this.setState({ searchList: res.result.songs });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    // 获取歌手详情\r\n    async getSingerDesc(id) {\r\n        try {\r\n            let res = await getSingerDesc(id);\r\n            this.setState({ singerData: res.artist });\r\n            return res.artist;\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    // 获取相似歌单\r\n    async getPlaylist(id) {\r\n        try {\r\n            let res = await getPlaylist(id);\r\n            this.setState({ playlists: res.playlists });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    // 播放歌曲\r\n    play(list, index,e) {\r\n        try {\r\n            let arr = [];\r\n            list.forEach((item, _index) => {\r\n                arr.push({\r\n                    id: item.id,\r\n                    name: item.name,\r\n                    arName: item.artists[0].name,\r\n                    artId:\r\n                        item.artists[\r\n                            Math.floor(Math.random() * item.artists.length)\r\n                        ].id\r\n                });\r\n            });\r\n            store.musicUrl.dispatch(setMucData({ list: arr, index, even: e }));\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"search\" ref={val => (this.search = val)}>\r\n                <div\r\n                    className=\"box\"\r\n                    ref={val => (this.box = val)}\r\n                    style={this.state.boxStyle}\r\n                >\r\n                    {this.state.searchList.length > 0 && (\r\n                        <div className=\"content\">\r\n                            <div className=\"singer\">\r\n                                <div className=\"title\">相关歌手</div>\r\n                                <Item\r\n                                    thumb={this.state.singerData.picUrl}\r\n                                    onClick={() => {\r\n                                        this.props.history.push(\r\n                                            `/singerDetails/${this.state.singerData.id}`\r\n                                        );\r\n                                    }}\r\n                                >\r\n                                    {this.state.singerData.name}\r\n                                </Item>\r\n                            </div>\r\n                            <div className=\"songMenuList\">\r\n                                <div className=\"title\">相关歌单</div>\r\n                                <List>\r\n                                    {this.state.playlists.map((item, index) => {\r\n                                        return (\r\n                                            <Item\r\n                                                key={index}\r\n                                                thumb={item.coverImgUrl}\r\n                                                onClick={() => {\r\n                                                    this.props.history.push(\r\n                                                        '/songMenu/' + item.id\r\n                                                    );\r\n                                                }}\r\n                                            >\r\n                                                {item.name}\r\n                                            </Item>\r\n                                        );\r\n                                    })}\r\n                                </List>\r\n                            </div>\r\n                            <div className=\"songList\">\r\n                                <List>\r\n                                    {this.state.searchList.map(\r\n                                        (item, index) => {\r\n                                            return (\r\n                                                <Item\r\n                                                    onClick={(e) =>\r\n                                                        this.play(\r\n                                                            this.state\r\n                                                                .searchList,\r\n                                                            index,\r\n                                                            e\r\n                                                        )\r\n                                                    }\r\n                                                    key={index}\r\n                                                >\r\n                                                    {item.name}\r\n                                                    <Brief>\r\n                                                        {item.artists[0].name} -{' '}\r\n                                                        {item.album.name}\r\n                                                    </Brief>\r\n                                                </Item>\r\n                                            );\r\n                                        }\r\n                                    )}\r\n                                </List>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {this.state.searchList.length === 0 && (\r\n                        <div className=\"hotKey\">\r\n                            <div className=\"title\">热门搜索</div>\r\n                            <div className=\"content\">\r\n                                {this.state.searchHot.map((item, index) => {\r\n                                    return (\r\n                                        <Tag data-seed=\"logId\" key={index}>\r\n                                            <div\r\n                                                onClick={() => {\r\n                                                    this.searchMusic(\r\n                                                        item.first\r\n                                                    );\r\n                                                    this.input.value =\r\n                                                        item.first;\r\n                                                    this.setState({\r\n                                                        key: item.first\r\n                                                    });\r\n                                                }}\r\n                                            >\r\n                                                {item.first}\r\n                                            </div>\r\n                                        </Tag>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n                {/* 搜索条 */}\r\n                <div className=\"searchBar\" style={this.state.boxStyle}>\r\n                    <i\r\n                        className=\"iconfont icon-xiangzuojiantou\"\r\n                        onClick={() => {\r\n                            this.search.style.backgroundColor = '';\r\n                            this.setState({\r\n                                boxStyle: { transform: 'translateX(100%)' }\r\n                            });\r\n                            setTimeout(() => {\r\n                                this.props.history.go(-1);\r\n                            }, 300);\r\n                        }}\r\n                    />\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"input\"\r\n                        placeholder=\"搜索歌曲、歌手、专辑\"\r\n                        ref={val => (this.input = val)}\r\n                        onChange={() => this.onChange()}\r\n                    />\r\n                    {this.state.key.trim().length > 0 && (\r\n                        <i\r\n                            className=\"iconfont icon-guanbi\"\r\n                            onClick={() => {\r\n                                this.input.value = '';\r\n                                this.setState({ key: '' });\r\n                                this.setState({ searchList: [] });\r\n                            }}\r\n                        />\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import request from '../utils/request';\r\n\r\nfunction searchMusic(keywords) {\r\n    return request({\r\n        method: 'get',\r\n        url: '/search',\r\n        params:{\r\n            keywords,\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction getSearchHot() {\r\n    return request({\r\n        method: 'get',\r\n        url: '/search/hot',\r\n        params:{\r\n            t: Date.now()\r\n        }\r\n    });\r\n}\r\n\r\nexport {\r\n    getSearchHot,\r\n    searchMusic\r\n}","import React from 'react'\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport Home from './view/home'\r\nimport SongMenu from './view/songMenu'\r\nimport SingerDetails from './view/singerDetails'\r\nimport PlayMusic from './view/playMusic'\r\nimport Search from './view/search'\r\nimport './APP.scss'\r\n\r\nexport default class App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className='box'>\r\n            <Router>\r\n              <Route path='/' component={Home} />\r\n              <Switch>\r\n                <Route path='/songMenu/:id' component={SongMenu} />\r\n                <Route path='/singerDetails/:id' component={SingerDetails} />\r\n                <Route path='/search' component={Search} />\r\n              </Switch>\r\n            </Router>\r\n            <PlayMusic />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const windowHei = window.innerHeight + 100\r\nconst placeholder = \"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1897943806,295048940&fm=26&gp=0.jpg\"\r\n\r\nfunction isLoad(ele, Tiem) {\r\n  if (!Tiem) {\r\n    Tiem = setTimeout(() => {\r\n      let imgArr = ele.querySelectorAll('[data-url]')\r\n      imgArr.forEach(item => {\r\n        if (item.y < windowHei) {\r\n          item.setAttribute('src', item.getAttribute('data-url'))\r\n          item.removeAttribute('data-url')\r\n        }\r\n      })\r\n      clearInterval(Tiem)\r\n      Tiem = null\r\n    }, 300)\r\n  }\r\n}\r\n\r\nfunction lazyLoading(ele) {\r\n  let Tiem = null\r\n  let imgArr = ele.querySelectorAll('[data-url]')\r\n  imgArr.forEach((item) => {\r\n    if (item.getAttribute('src') === '') {\r\n      item.setAttribute('src', placeholder)\r\n    }\r\n  })\r\n  isLoad(ele, Tiem)\r\n  ele.addEventListener('scroll', () => {\r\n    isLoad(ele, Tiem)\r\n  })\r\n}\r\n\r\nexport  {lazyLoading}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {lazyLoading} from './utils/lazyLoading';\r\n\r\n\r\n// antd-mobile UI\r\nimport 'antd-mobile/dist/antd-mobile.css';\r\n\r\nReact.Component.prototype.$lazyLoading = lazyLoading\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}