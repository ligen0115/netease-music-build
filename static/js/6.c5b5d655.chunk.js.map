{"version":3,"sources":["api/song_menu.js","../node_modules/antd-mobile/lib/nav-bar/style/css.js","../node_modules/antd-mobile/lib/nav-bar/index.js","../node_modules/antd-mobile/lib/button/style/css.js","../node_modules/antd-mobile/lib/button/index.js","view/songMenu/index.jsx"],"names":["getHotSongMenu","apiCache","request","method","url","params","t","Date","now","getDetails","id","dispose","getPlaylist","Object","defineProperty","exports","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","__rest","s","e","p","indexOf","getOwnPropertySymbols","i","length","NavBar","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","_a","props","prefixCls","className","children","mode","icon","onLeftClick","leftContent","rightContent","restProps","createElement","role","onClick","Component","defaultProps","module","_defineProperty3","_classnames3","_rmcFeedback2","_icon2","rxTwoCNChar","isTwoCNChar","test","bind","isString","str","insertSpace","child","type","cloneElement","split","join","Button","_classnames","size","inline","disabled","loading","activeStyle","activeClassName","iconType","wrapCls","kids","Children","map","iconEl","rawCls","cls","undefined","songMenu","state","data","name","tracks","subscribedCount","coverImgUrl","bgStyle","backgroundImage","show","rollPlace","setState","transform","document","documentElement","scrollTop","match","res","playlist","console","log","list","index","arr","forEach","item","push","artId","ar","Math","floor","random","arName","store","musicUrl","dispatch","setMucData","even","style","tempStyle","height","rem","play","ceil","startIndex","ref","val","setTimeout","history","go","src","alt","background","width","rowCount","rowHeight","rowRenderer","onRowsRendered"],"mappings":"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","file":"static/js/6.c5b5d655.chunk.js","sourcesContent":["import request from '../utils/request'\r\nimport { apiCache, dispose } from '../utils/apiCache'\r\n\r\nfunction getHotSongMenu() {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/personalized',\r\n      params: {\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/personalized`)\r\n}\r\n\r\nfunction getDetails(id) {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/playlist/detail',\r\n      params: {\r\n        id,\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/playlist/detail${dispose({ id })}`)\r\n}\r\n\r\nfunction getPlaylist(id) {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/simi/playlist',\r\n      params: {\r\n        id,\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/simi/playlist${dispose({ id })}`)\r\n}\r\n\r\nexport { getHotSongMenu, getDetails, getPlaylist }\r\n","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar NavBar = function (_React$Component) {\n  (0, _inherits3['default'])(NavBar, _React$Component);\n\n  function NavBar() {\n    (0, _classCallCheck3['default'])(this, NavBar);\n    return (0, _possibleConstructorReturn3['default'])(this, (NavBar.__proto__ || Object.getPrototypeOf(NavBar)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(NavBar, [{\n    key: 'render',\n    value: function render() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          className = _a.className,\n          children = _a.children,\n          mode = _a.mode,\n          icon = _a.icon,\n          onLeftClick = _a.onLeftClick,\n          leftContent = _a.leftContent,\n          rightContent = _a.rightContent,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"children\", \"mode\", \"icon\", \"onLeftClick\", \"leftContent\", \"rightContent\"]);\n\n      return React.createElement('div', (0, _extends3['default'])({}, restProps, {\n        className: (0, _classnames2['default'])(className, prefixCls, prefixCls + '-' + mode)\n      }), React.createElement('div', {\n        className: prefixCls + '-left',\n        role: 'button',\n        onClick: onLeftClick\n      }, icon ? // tslint:disable-next-line:jsx-no-multiline-js\n      React.createElement('span', {\n        className: prefixCls + '-left-icon',\n        'aria-hidden': 'true'\n      }, icon) : null, leftContent), React.createElement('div', {\n        className: prefixCls + '-title'\n      }, children), React.createElement('div', {\n        className: prefixCls + '-right'\n      }, rightContent));\n    }\n  }]);\n  return NavBar;\n}(React.Component);\n\nexports['default'] = NavBar;\nNavBar.defaultProps = {\n  prefixCls: 'am-navbar',\n  mode: 'dark',\n  onLeftClick: function onLeftClick() {}\n};\nmodule.exports = exports['default'];","'use strict';\n\nrequire('../../style/css');\n\nrequire('../../icon/style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar rxTwoCNChar = /^[\\u4e00-\\u9fa5]{2}$/;\nvar isTwoCNChar = rxTwoCNChar.test.bind(rxTwoCNChar);\n\nfunction isString(str) {\n  return typeof str === 'string';\n} // Insert one space between two chinese characters automatically.\n\n\nfunction insertSpace(child) {\n  if (isString(child.type) && isTwoCNChar(child.props.children)) {\n    return React.cloneElement(child, {}, child.props.children.split('').join(' '));\n  }\n\n  if (isString(child)) {\n    if (isTwoCNChar(child)) {\n      child = child.split('').join(' ');\n    }\n\n    return React.createElement('span', null, child);\n  }\n\n  return child;\n}\n\nvar Button = function (_React$Component) {\n  (0, _inherits3['default'])(Button, _React$Component);\n\n  function Button() {\n    (0, _classCallCheck3['default'])(this, Button);\n    return (0, _possibleConstructorReturn3['default'])(this, (Button.__proto__ || Object.getPrototypeOf(Button)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(Button, [{\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var _a = this.props,\n          children = _a.children,\n          className = _a.className,\n          prefixCls = _a.prefixCls,\n          type = _a.type,\n          size = _a.size,\n          inline = _a.inline,\n          disabled = _a.disabled,\n          icon = _a.icon,\n          loading = _a.loading,\n          activeStyle = _a.activeStyle,\n          activeClassName = _a.activeClassName,\n          onClick = _a.onClick,\n          restProps = __rest(_a, [\"children\", \"className\", \"prefixCls\", \"type\", \"size\", \"inline\", \"disabled\", \"icon\", \"loading\", \"activeStyle\", \"activeClassName\", \"onClick\"]);\n\n      var iconType = loading ? 'loading' : icon;\n      var wrapCls = (0, _classnames3['default'])(prefixCls, className, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-primary', type === 'primary'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-ghost', type === 'ghost'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-warning', type === 'warning'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-small', size === 'small'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-inline', inline), (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-loading', loading), (0, _defineProperty3['default'])(_classnames, prefixCls + '-icon', !!iconType), _classnames));\n      var kids = React.Children.map(children, insertSpace);\n      var iconEl = void 0;\n\n      if (typeof iconType === 'string') {\n        iconEl = React.createElement(_icon2['default'], {\n          'aria-hidden': 'true',\n          type: iconType,\n          size: size === 'small' ? 'xxs' : 'md',\n          className: prefixCls + '-icon'\n        });\n      } else if (iconType) {\n        var rawCls = iconType.props && iconType.props.className;\n        var cls = (0, _classnames3['default'])('am-icon', prefixCls + '-icon', size === 'small' ? 'am-icon-xxs' : 'am-icon-md');\n        iconEl = React.cloneElement(iconType, {\n          className: rawCls ? rawCls + ' ' + cls : cls\n        });\n      } // use div, button native is buggy @yiminghe\n\n\n      return React.createElement(_rmcFeedback2['default'] // tslint:disable-next-line:jsx-no-multiline-js\n      , {\n        activeClassName: activeClassName || (activeStyle ? prefixCls + '-active' : undefined),\n        disabled: disabled,\n        activeStyle: activeStyle\n      }, React.createElement('a', (0, _extends3['default'])({\n        role: 'button',\n        className: wrapCls\n      }, restProps, {\n        onClick: disabled ? undefined : onClick,\n        'aria-disabled': disabled\n      }), iconEl, kids));\n    }\n  }]);\n  return Button;\n}(React.Component);\n\nButton.defaultProps = {\n  prefixCls: 'am-button',\n  size: 'large',\n  inline: false,\n  disabled: false,\n  loading: false,\n  activeStyle: {}\n};\nexports['default'] = Button;\nmodule.exports = exports['default'];","import React from 'react'\r\nimport './index.scss'\r\nimport { NavBar, Icon, Button } from 'antd-mobile'\r\nimport { getDetails } from '../../api/song_menu'\r\nimport store from '../../redux'\r\nimport { setMucData } from '../../redux/actionCreator'\r\nimport { AutoSizer, List } from 'react-virtualized'\r\n\r\nexport default class songMenu extends React.Component {\r\n  state = {\r\n    data: {\r\n      name: '歌单',\r\n      tracks: [],\r\n      subscribedCount: 0,\r\n      coverImgUrl: 'http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg'\r\n    },\r\n    bgStyle: {\r\n      backgroundImage: 'url(\"http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg\")'\r\n    },\r\n    show: {},\r\n    rollPlace: false,\r\n  }\r\n  \r\n  async componentDidMount() {\r\n    this.setState({ show: { transform: 'rotate(0deg)' } })\r\n    document.documentElement.scrollTop = 0\r\n    try {\r\n      let res = await getDetails(this.props.match.params.id)\r\n      this.setState({ data: res.playlist })\r\n      this.setState({\r\n        bgStyle: {\r\n          backgroundImage: `url(\"${res.playlist.coverImgUrl}\")`\r\n        }\r\n      })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 播放音乐\r\n  play(list, index, e) {\r\n    let arr = []\r\n    list.forEach(item => {\r\n      arr.push({\r\n        id: item.id,\r\n        name: item.name,\r\n        artId: item.ar[Math.floor(Math.random() * item.ar.length)].id,\r\n        arName: item.ar[0].name\r\n      })\r\n    })\r\n    store.musicUrl.dispatch(setMucData({ list: arr, index, even: e }))\r\n  }\r\n\r\n  // 渲染长列表行\r\n  rowRenderer({ index, style, key }) {\r\n    index = index - 4\r\n    let item = this.state.data.tracks[index - 1]\r\n    let tracks = this.state.data.tracks\r\n    if (index < 0) {\r\n      return <div className='placeholder' style={style} key={key}></div>\r\n    }\r\n    if (index === 0) {\r\n      let tempStyle = { ...style }\r\n      tempStyle.height = 45 * this.rem\r\n      return (\r\n        <div className='title' style={tempStyle} key={key}>\r\n          <div className=\"bg\"></div>\r\n          <div></div>\r\n          <div className=\"content\">\r\n            <i className='iconfont icon-bofang' onClick={e => this.play(tracks, 0, e)}></i>\r\n            <span>\r\n              播放全部\r\n              <span>\r\n                (共{tracks.length}\r\n                首)\r\n              </span>\r\n            </span>\r\n          </div>\r\n          <Button>\r\n            <i className='iconfont icon-add'></i> 收藏\r\n            <span className='num'>\r\n              ({Math.ceil(this.state.data.subscribedCount / 1000) / 10}\r\n              万)\r\n            </span>\r\n          </Button>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div className='box' style={style} key={key} onClick={e => this.play(this.state.data.tracks, index-1, e)}>\r\n          <div className='index'>{index}</div>\r\n          <div className=\"content\">\r\n          <div className=\"text\">{item.name}</div><div>{item.ar[0].name}</div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  //获取活动位置下标\r\n  onRowsRendered({ startIndex }) {\r\n    let { rollPlace } = this.state\r\n    if (startIndex > 8 && !rollPlace) {\r\n      this.setState({ rollPlace: true })\r\n    } else if (startIndex <= 8 && rollPlace) {\r\n      this.setState({ rollPlace: false })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {rem} = this\r\n    const { tracks } = this.state.data\r\n    return (\r\n      <div id='songMenu' className='songMenu' ref={val => (this.songMenu = val)} style={this.state.show}>\r\n        <div className='cover'>\r\n          <div className='bg' style={this.state.bgStyle}></div>\r\n          <div className='content'>\r\n            <NavBar\r\n              mode='light'\r\n              icon={<Icon type='left' />}\r\n              onLeftClick={() => {\r\n                this.setState({\r\n                  show: { transform: 'rotate(-90deg)' }\r\n                })\r\n                setTimeout(() => {\r\n                  this.props.history.go(-1)\r\n                }, 400)\r\n              }}\r\n              leftContent={<span className='title'>{this.state.data.name}</span>}\r\n            ></NavBar>\r\n            <div className='synopsis'>\r\n              <img src={this.state.data.coverImgUrl} alt='' />\r\n              <div>\r\n                <div className='title'>{this.state.data.name}</div>\r\n                <div className='text'>\r\n                  <img src='http://p1.music.126.net/QWMV-Ru_6149AKe0mCBXKg==/1420569024374784.jpg' alt='' />\r\n                  网易云音乐\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className='praise'>\r\n              <ul>\r\n                <li>\r\n                  <i className='iconfont icon-wodefankui'></i>\r\n                  <span>评论</span>\r\n                </li>\r\n                <li>\r\n                  <i className='iconfont icon-shoucang'></i>\r\n                  <span>点赞</span>\r\n                </li>\r\n                <li>\r\n                  <i className='iconfont icon-add'></i>\r\n                  <span>收藏</span>\r\n                </li>\r\n                <li>\r\n                  <i className='iconfont icon-icon_threeline_fill'></i>\r\n                  <span>更多</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id='songMenuList' className='songMenuList' style={{background: this.state.rollPlace? '#fff':'transparent'}}>\r\n          <div>\r\n            {tracks.length > 0 && (\r\n              <AutoSizer>\r\n                {({ height, width }) => (\r\n                  <List\r\n                    height={height}\r\n                    rowCount={tracks.length + 5}\r\n                    rowHeight={59 * rem}\r\n                    rowRenderer={this.rowRenderer.bind(this)}\r\n                    width={width}\r\n                    onRowsRendered={this.onRowsRendered.bind(this)}\r\n                  />\r\n                )}\r\n              </AutoSizer>\r\n            )}\r\n          </div>\r\n\r\n          {tracks.length === 0 && <Icon type='loading' />}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}