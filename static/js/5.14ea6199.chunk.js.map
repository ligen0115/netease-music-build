{"version":3,"sources":["api/song_menu.js","../node_modules/antd-mobile/lib/list/style/css.js","../node_modules/antd-mobile/lib/list/index.js","../node_modules/antd-mobile/lib/list/ListItem.js","../node_modules/antd-mobile/lib/tag/style/css.js","../node_modules/antd-mobile/lib/tag/index.js","../node_modules/antd-mobile/lib/_util/getDataAttr.js","api/search.js","view/search/index.jsx"],"names":["getHotSongMenu","apiCache","request","method","url","params","t","Date","now","getDetails","id","dispose","getPlaylist","Object","defineProperty","exports","value","_extends3","_interopRequireDefault","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames2","React","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","_ListItem2","__rest","s","e","p","indexOf","getOwnPropertySymbols","i","length","List","_React$Component","this","__proto__","getPrototypeOf","apply","arguments","_a","props","prefixCls","children","className","style","renderHeader","renderFooter","restProps","wrapCls","createElement","Component","Item","defaultProps","module","Brief","undefined","_defineProperty3","_classnames6","_rmcFeedback2","ListItem","_React$Component2","_this2","onClick","ev","_this2$props","platform","debounceTimeout","clearTimeout","currentTarget","RippleWidth","Math","max","offsetHeight","offsetWidth","ClientRect","getBoundingClientRect","coverRippleStyle","width","height","left","clientX","top","clientY","setState","RippleClicked","setTimeout","display","state","_classnames","_classnames3","_classnames4","_this3","activeStyle","error","align","wrap","disabled","multipleLine","thumb","extra","arrow","otherProps","_state","rippleCls","lineCls","arrowCls","content","src","touchProps","keys","forEach","test","activeClassName","_getDataAttr2","_icon2","Tag","_this","_this$props","onChange","isSelect","selected","onTagClose","onClose","closed","afterClose","nextProps","_props","closable","small","closableDom","role","type","size","reduce","prev","substr","searchMusic","keywords","tiemId","search","boxStyle","searchList","singerData","playlists","searchHot","JSON","parse","window","localStorage","getItem","store","searchData","getState","transform","trim","document","getElementById","focus","backgroundColor","getSearchHot","res","result","hots","console","log","target","clearInterval","dispatch","setSearchData","songs","getSingerDesc","artists","artist","list","index","arr","item","_index","push","name","arName","artId","floor","random","musicUrl","setMucData","even","err","keyList","map","first","includes","splice","pop","unshift","setItem","stringify","ref","val","box","picUrl","addsearchHot","history","coverImgUrl","play","album","data-seed","input","go","placeholder"],"mappings":"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","file":"static/js/5.14ea6199.chunk.js","sourcesContent":["import request from '../utils/request'\r\nimport { apiCache, dispose } from '../utils/apiCache'\r\n\r\nfunction getHotSongMenu() {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/personalized',\r\n      params: {\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/personalized`)\r\n}\r\n\r\nfunction getDetails(id) {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/playlist/detail',\r\n      params: {\r\n        id,\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/playlist/detail${dispose({ id })}`)\r\n}\r\n\r\nfunction getPlaylist(id) {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/simi/playlist',\r\n      params: {\r\n        id,\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/simi/playlist${dispose({ id })}`)\r\n}\r\n\r\nexport { getHotSongMenu, getDetails, getPlaylist }\r\n","'use strict';\n\nrequire('../../style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _ListItem = require('./ListItem');\n\nvar _ListItem2 = _interopRequireDefault(_ListItem);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* tslint:disable:jsx-no-multiline-js */\n\n\nvar List = function (_React$Component) {\n  (0, _inherits3['default'])(List, _React$Component);\n\n  function List() {\n    (0, _classCallCheck3['default'])(this, List);\n    return (0, _possibleConstructorReturn3['default'])(this, (List.__proto__ || Object.getPrototypeOf(List)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(List, [{\n    key: 'render',\n    value: function render() {\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          children = _a.children,\n          className = _a.className,\n          style = _a.style,\n          renderHeader = _a.renderHeader,\n          renderFooter = _a.renderFooter,\n          restProps = __rest(_a, [\"prefixCls\", \"children\", \"className\", \"style\", \"renderHeader\", \"renderFooter\"]);\n\n      var wrapCls = (0, _classnames2['default'])(prefixCls, className);\n      return React.createElement('div', (0, _extends3['default'])({\n        className: wrapCls,\n        style: style\n      }, restProps), renderHeader ? React.createElement('div', {\n        className: prefixCls + '-header'\n      }, typeof renderHeader === 'function' ? renderHeader() : renderHeader) : null, children ? React.createElement('div', {\n        className: prefixCls + '-body'\n      }, children) : null, renderFooter ? React.createElement('div', {\n        className: prefixCls + '-footer'\n      }, typeof renderFooter === 'function' ? renderFooter() : renderFooter) : null);\n    }\n  }]);\n  return List;\n}(React.Component);\n\nexports['default'] = List;\nList.Item = _ListItem2['default'];\nList.defaultProps = {\n  prefixCls: 'am-list'\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Brief = undefined;\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames5 = require('classnames');\n\nvar _classnames6 = _interopRequireDefault(_classnames5);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar __rest = undefined && undefined.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* tslint:disable:jsx-no-multiline-js */\n\n\nvar Brief = exports.Brief = function (_React$Component) {\n  (0, _inherits3['default'])(Brief, _React$Component);\n\n  function Brief() {\n    (0, _classCallCheck3['default'])(this, Brief);\n    return (0, _possibleConstructorReturn3['default'])(this, (Brief.__proto__ || Object.getPrototypeOf(Brief)).apply(this, arguments));\n  }\n\n  (0, _createClass3['default'])(Brief, [{\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        className: 'am-list-brief',\n        style: this.props.style\n      }, this.props.children);\n    }\n  }]);\n  return Brief;\n}(React.Component);\n\nvar ListItem = function (_React$Component2) {\n  (0, _inherits3['default'])(ListItem, _React$Component2);\n\n  function ListItem(props) {\n    (0, _classCallCheck3['default'])(this, ListItem);\n\n    var _this2 = (0, _possibleConstructorReturn3['default'])(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).call(this, props));\n\n    _this2.onClick = function (ev) {\n      var _this2$props = _this2.props,\n          onClick = _this2$props.onClick,\n          platform = _this2$props.platform;\n      var isAndroid = platform === 'android';\n\n      if (!!onClick && isAndroid) {\n        if (_this2.debounceTimeout) {\n          clearTimeout(_this2.debounceTimeout);\n          _this2.debounceTimeout = null;\n        }\n\n        var Item = ev.currentTarget;\n        var RippleWidth = Math.max(Item.offsetHeight, Item.offsetWidth);\n        var ClientRect = ev.currentTarget.getBoundingClientRect();\n        var pointX = ev.clientX - ClientRect.left - Item.offsetWidth / 2;\n        var pointY = ev.clientY - ClientRect.top - Item.offsetWidth / 2;\n        var coverRippleStyle = {\n          width: RippleWidth + 'px',\n          height: RippleWidth + 'px',\n          left: pointX + 'px',\n          top: pointY + 'px'\n        };\n\n        _this2.setState({\n          coverRippleStyle: coverRippleStyle,\n          RippleClicked: true\n        }, function () {\n          _this2.debounceTimeout = setTimeout(function () {\n            _this2.setState({\n              coverRippleStyle: {\n                display: 'none'\n              },\n              RippleClicked: false\n            });\n          }, 1000);\n        });\n      }\n\n      if (onClick) {\n        onClick(ev);\n      }\n    };\n\n    _this2.state = {\n      coverRippleStyle: {\n        display: 'none'\n      },\n      RippleClicked: false\n    };\n    return _this2;\n  }\n\n  (0, _createClass3['default'])(ListItem, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.debounceTimeout) {\n        clearTimeout(this.debounceTimeout);\n        this.debounceTimeout = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames,\n          _classnames3,\n          _classnames4,\n          _this3 = this;\n\n      var _a = this.props,\n          prefixCls = _a.prefixCls,\n          className = _a.className,\n          activeStyle = _a.activeStyle,\n          error = _a.error,\n          align = _a.align,\n          wrap = _a.wrap,\n          disabled = _a.disabled,\n          children = _a.children,\n          multipleLine = _a.multipleLine,\n          thumb = _a.thumb,\n          extra = _a.extra,\n          arrow = _a.arrow,\n          onClick = _a.onClick,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"activeStyle\", \"error\", \"align\", \"wrap\", \"disabled\", \"children\", \"multipleLine\", \"thumb\", \"extra\", \"arrow\", \"onClick\"]);\n\n      var platform = restProps.platform,\n          otherProps = __rest(restProps, [\"platform\"]);\n\n      var _state = this.state,\n          coverRippleStyle = _state.coverRippleStyle,\n          RippleClicked = _state.RippleClicked;\n      var wrapCls = (0, _classnames6['default'])(prefixCls + '-item', className, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-error', error), (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-top', align === 'top'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-middle', align === 'middle'), (0, _defineProperty3['default'])(_classnames, prefixCls + '-item-bottom', align === 'bottom'), _classnames));\n      var rippleCls = (0, _classnames6['default'])(prefixCls + '-ripple', (0, _defineProperty3['default'])({}, prefixCls + '-ripple-animate', RippleClicked));\n      var lineCls = (0, _classnames6['default'])(prefixCls + '-line', (_classnames3 = {}, (0, _defineProperty3['default'])(_classnames3, prefixCls + '-line-multiple', multipleLine), (0, _defineProperty3['default'])(_classnames3, prefixCls + '-line-wrap', wrap), _classnames3));\n      var arrowCls = (0, _classnames6['default'])(prefixCls + '-arrow', (_classnames4 = {}, (0, _defineProperty3['default'])(_classnames4, prefixCls + '-arrow-horizontal', arrow === 'horizontal'), (0, _defineProperty3['default'])(_classnames4, prefixCls + '-arrow-vertical', arrow === 'down' || arrow === 'up'), (0, _defineProperty3['default'])(_classnames4, prefixCls + '-arrow-vertical-up', arrow === 'up'), _classnames4));\n      var content = React.createElement('div', (0, _extends3['default'])({}, otherProps, {\n        onClick: function onClick(ev) {\n          _this3.onClick(ev);\n        },\n        className: wrapCls\n      }), thumb ? React.createElement('div', {\n        className: prefixCls + '-thumb'\n      }, typeof thumb === 'string' ? React.createElement('img', {\n        src: thumb\n      }) : thumb) : null, React.createElement('div', {\n        className: lineCls\n      }, children !== undefined && React.createElement('div', {\n        className: prefixCls + '-content'\n      }, children), extra !== undefined && React.createElement('div', {\n        className: prefixCls + '-extra'\n      }, extra), arrow && React.createElement('div', {\n        className: arrowCls,\n        'aria-hidden': 'true'\n      })), React.createElement('div', {\n        style: coverRippleStyle,\n        className: rippleCls\n      }));\n      var touchProps = {};\n      Object.keys(otherProps).forEach(function (key) {\n        if (/onTouch/i.test(key)) {\n          touchProps[key] = otherProps[key];\n          delete otherProps[key];\n        }\n      });\n      return React.createElement(_rmcFeedback2['default'], (0, _extends3['default'])({}, touchProps, {\n        disabled: disabled || !onClick,\n        activeStyle: activeStyle,\n        activeClassName: prefixCls + '-item-active'\n      }), content);\n    }\n  }]);\n  return ListItem;\n}(React.Component);\n\nListItem.defaultProps = {\n  prefixCls: 'am-list',\n  align: 'middle',\n  error: false,\n  multipleLine: false,\n  wrap: false,\n  platform: 'ios'\n};\nListItem.Brief = Brief;\nexports['default'] = ListItem;","'use strict';\n\nrequire('../../style/css');\n\nrequire('../../icon/style/css');\n\nrequire('./index.css');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar Tag = function (_React$Component) {\n  (0, _inherits3['default'])(Tag, _React$Component);\n\n  function Tag(props) {\n    (0, _classCallCheck3['default'])(this, Tag);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (Tag.__proto__ || Object.getPrototypeOf(Tag)).call(this, props));\n\n    _this.onClick = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          onChange = _this$props.onChange;\n\n      if (disabled) {\n        return;\n      }\n\n      var isSelect = _this.state.selected;\n\n      _this.setState({\n        selected: !isSelect\n      }, function () {\n        if (onChange) {\n          onChange(!isSelect);\n        }\n      });\n    };\n\n    _this.onTagClose = function () {\n      if (_this.props.onClose) {\n        _this.props.onClose();\n      }\n\n      _this.setState({\n        closed: true\n      }, _this.props.afterClose);\n    };\n\n    _this.state = {\n      selected: props.selected,\n      closed: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(Tag, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.selected !== nextProps.selected) {\n        this.setState({\n          selected: nextProps.selected\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames;\n\n      var _props = this.props,\n          children = _props.children,\n          className = _props.className,\n          prefixCls = _props.prefixCls,\n          disabled = _props.disabled,\n          closable = _props.closable,\n          small = _props.small,\n          style = _props.style;\n      var wrapCls = (0, _classnames3['default'])(className, prefixCls, (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-normal', !disabled && (!this.state.selected || small || closable)), (0, _defineProperty3['default'])(_classnames, prefixCls + '-small', small), (0, _defineProperty3['default'])(_classnames, prefixCls + '-active', this.state.selected && !disabled && !small && !closable), (0, _defineProperty3['default'])(_classnames, prefixCls + '-disabled', disabled), (0, _defineProperty3['default'])(_classnames, prefixCls + '-closable', closable), _classnames));\n      var closableDom = closable && !disabled && !small ? React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-close-active'\n      }, React.createElement('div', {\n        className: prefixCls + '-close',\n        role: 'button',\n        onClick: this.onTagClose,\n        'aria-label': 'remove tag'\n      }, React.createElement(_icon2['default'], {\n        type: 'cross-circle',\n        size: 'xs',\n        'aria-hidden': 'true'\n      }))) : null;\n      return !this.state.closed ? React.createElement('div', (0, _extends3['default'])({}, (0, _getDataAttr2['default'])(this.props), {\n        className: wrapCls,\n        onClick: this.onClick,\n        style: style\n      }), React.createElement('div', {\n        className: prefixCls + '-text'\n      }, children), closableDom) : null;\n    }\n  }]);\n  return Tag;\n}(React.Component);\n\nexports['default'] = Tag;\nTag.defaultProps = {\n  prefixCls: 'am-tag',\n  disabled: false,\n  selected: false,\n  closable: false,\n  small: false,\n  onChange: function onChange() {},\n  onClose: function onClose() {},\n  afterClose: function afterClose() {}\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports['default'] = function (props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if (key.substr(0, 5) === 'aria-' || key.substr(0, 5) === 'data-' || key === 'role') {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n};\n\nmodule.exports = exports['default'];","import request from '../utils/request'\r\nimport { apiCache } from '../utils/apiCache'\r\n\r\nfunction searchMusic(keywords) {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/search',\r\n      params: {\r\n        keywords,\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/search`)\r\n}\r\n\r\nfunction getSearchHot() {\r\n  return apiCache(() => {\r\n    return request({\r\n      method: 'get',\r\n      url: '/search/hot',\r\n      params: {\r\n        t: Date.now()\r\n      }\r\n    })\r\n  }, `/search`)\r\n}\r\n\r\nexport { getSearchHot, searchMusic }\r\n","import React from 'react'\r\nimport './index.scss'\r\nimport { searchMusic, getSearchHot } from '../../api/search'\r\nimport { getSingerDesc } from '../../api/singer'\r\nimport { getPlaylist } from '../../api/song_menu'\r\nimport { List, Tag } from 'antd-mobile'\r\nimport store from '../../redux'\r\nimport { setMucData, setSearchData } from '../../redux/actionCreator'\r\nconst Item = List.Item\r\nconst Brief = Item.Brief\r\nlet tiemId = null\r\n\r\nexport default class search extends React.Component {\r\n  state = {\r\n    boxStyle: {},\r\n    key: '',\r\n    searchList: [],\r\n    singerData: {},\r\n    playlists: [],\r\n    searchHot: JSON.parse(window.localStorage.getItem('searchHot') || '[]')\r\n  }\r\n  componentDidMount() {\r\n    setTimeout(() => {\r\n      const key = store.searchData.getState()\r\n      this.setState({\r\n        boxStyle: {\r\n          transform: 'translateX(0)'\r\n        },\r\n        key\r\n      })\r\n      if (key.trim().length > 0) this.searchMusic(key.trim())\r\n    }, 0)\r\n\r\n    let input = document.getElementById('input')\r\n    input.focus()\r\n    setTimeout(() => {\r\n      this.search.style.backgroundColor = '#f3f3f4'\r\n    }, 300)\r\n    if (this.state.searchHot.length === 0) this.getSearchHot()\r\n  }\r\n  // 获取搜索热词\r\n  async getSearchHot() {\r\n    try {\r\n      let res = await getSearchHot()\r\n      this.setState({ searchHot: res.result.hots })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 当搜索框值改变时\r\n  onChange(e) {\r\n    let key = e.target.value\r\n    this.setState({ key })\r\n    if (tiemId) {\r\n      clearInterval(tiemId)\r\n    }\r\n    tiemId = setTimeout(() => {\r\n      clearInterval(tiemId)\r\n      if (key.trim().length > 0) {\r\n        this.searchMusic(key.trim())\r\n      } else {\r\n        this.setState({ searchList: [] })\r\n      }\r\n    }, 500)\r\n  }\r\n  // 获取搜索内容\r\n  async searchMusic(key) {\r\n    store.searchData.dispatch(setSearchData(key))\r\n    try {\r\n      let res = await searchMusic(key)\r\n      this.getPlaylist(res.result.songs[0].id)\r\n      this.getSingerDesc(res.result.songs[0].artists[0].id)\r\n      this.setState({ searchList: res.result.songs })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 获取歌手详情\r\n  async getSingerDesc(id) {\r\n    try {\r\n      let res = await getSingerDesc(id)\r\n      this.setState({ singerData: res.artist })\r\n      return res.artist\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 获取相似歌单\r\n  async getPlaylist(id) {\r\n    try {\r\n      let res = await getPlaylist(id)\r\n      this.setState({ playlists: res.playlists })\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  // 播放歌曲\r\n  play(list, index, e) {\r\n    try {\r\n      let arr = []\r\n      list.forEach((item, _index) => {\r\n        arr.push({\r\n          id: item.id,\r\n          name: item.name,\r\n          arName: item.artists[0].name,\r\n          artId: item.artists[Math.floor(Math.random() * item.artists.length)].id\r\n        })\r\n      })\r\n      store.musicUrl.dispatch(setMucData({ list: arr, index, even: e }))\r\n    } catch (err) {\r\n      console.log(err)\r\n    }\r\n  }\r\n  addsearchHot() {\r\n    let key = this.state.key\r\n    let list = this.state.searchHot\r\n    let keyList = this.state.searchHot.map(item => {\r\n      return item.first\r\n    })\r\n    if (!keyList.includes(key)) {\r\n      list.pop()\r\n    } else {\r\n      list.splice(keyList.indexOf(key), 1)\r\n    }\r\n    list.unshift({ first: key })\r\n    window.localStorage.setItem('searchHot', JSON.stringify(list))\r\n    this.setState({ searchHot: list })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='search' ref={val => (this.search = val)}>\r\n        <div className='box' ref={val => (this.box = val)} style={this.state.boxStyle}>\r\n          {this.state.searchList.length > 0 && (\r\n            <div className='content'>\r\n              <div className='singer'>\r\n                <div className='title'>相关歌手</div>\r\n                <Item\r\n                  thumb={this.state.singerData.picUrl}\r\n                  onClick={() => {\r\n                    this.addsearchHot()\r\n                    this.props.history.push(`/singerDetails/${this.state.singerData.id}`)\r\n                  }}\r\n                >\r\n                  {this.state.singerData.name}\r\n                </Item>\r\n              </div>\r\n              <div className='songMenuList'>\r\n                <div className='title'>相关歌单</div>\r\n                <List>\r\n                  {this.state.playlists.map((item, index) => {\r\n                    return (\r\n                      <Item\r\n                        key={index}\r\n                        thumb={item.coverImgUrl}\r\n                        onClick={() => {\r\n                          this.addsearchHot()\r\n                          this.props.history.push('/songMenu/' + item.id)\r\n                        }}\r\n                      >\r\n                        {item.name}\r\n                      </Item>\r\n                    )\r\n                  })}\r\n                </List>\r\n              </div>\r\n              <div className='songList'>\r\n                <List>\r\n                  {this.state.searchList.map((item, index) => {\r\n                    return (\r\n                      <Item\r\n                        onClick={e => {\r\n                          this.addsearchHot()\r\n                          this.play(this.state.searchList, index, e)\r\n                        }}\r\n                        key={index}\r\n                      >\r\n                        {item.name}\r\n                        <Brief>\r\n                          {item.artists[0].name} - {item.album.name}\r\n                        </Brief>\r\n                      </Item>\r\n                    )\r\n                  })}\r\n                </List>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {this.state.searchList.length === 0 && (\r\n            <div className='hotKey'>\r\n              <div className='title'>热门搜索</div>\r\n              <div className='content'>\r\n                {this.state.searchHot.map((item, index) => {\r\n                  return (\r\n                    <Tag data-seed='logId' key={index}>\r\n                      <div\r\n                        onClick={() => {\r\n                          this.searchMusic(item.first)\r\n                          this.input.value = item.first\r\n                          this.setState({\r\n                            key: item.first\r\n                          })\r\n                        }}\r\n                      >\r\n                        {item.first}\r\n                      </div>\r\n                    </Tag>\r\n                  )\r\n                })}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {/* 搜索条 */}\r\n        <div className='searchBar' style={this.state.boxStyle}>\r\n          <i\r\n            className='iconfont icon-xiangzuojiantou'\r\n            onClick={() => {\r\n              this.search.style.backgroundColor = ''\r\n              this.setState({\r\n                boxStyle: { transform: 'translateX(100%)' }\r\n              })\r\n              setTimeout(() => {\r\n                this.props.history.go(-1)\r\n              }, 300)\r\n            }}\r\n          />\r\n          <input\r\n            type='text'\r\n            id='input'\r\n            placeholder='搜索歌曲、歌手、专辑'\r\n            ref={val => (this.input = val)}\r\n            value={this.state.key}\r\n            onChange={e => this.onChange(e)}\r\n          />\r\n          {this.state.key.trim().length > 0 && (\r\n            <i\r\n              className='iconfont icon-guanbi'\r\n              onClick={() => {\r\n                this.input.value = ''\r\n                this.setState({ key: '' })\r\n                this.setState({ searchList: [] })\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"sourceRoot":""}