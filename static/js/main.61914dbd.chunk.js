(window["webpackJsonpnetease-music"]=window["webpackJsonpnetease-music"]||[]).push([[0],{145:function(t,e,a){t.exports=a(276)},150:function(t,e,a){},194:function(t,e,a){},241:function(t,e,a){},246:function(t,e,a){},249:function(t,e,a){},253:function(t,e,a){},258:function(t,e,a){},259:function(t,e,a){},264:function(t,e,a){},265:function(t,e,a){},266:function(t,e,a){},274:function(t,e,a){},276:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(17),s=a.n(i),c=(a(150),a(9)),o=a(10),l=a(12),u=a(11),m=a(13),h=a(41),p=a(36),d=(a(151),a(129)),f=a.n(d),g=(a(47),a(23)),y=a.n(g),v=a(7),E=a.n(v),b=a(14),w=(a(194),a(48)),k=a(131),x=a.n(k),N=a(37),S=a(70),O="SET_MUC_DATA",j="SET_SEARCH_DATA",L="SET_API";function C(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function P(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?C(a,!0).forEach((function(e){Object(w.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var T=JSON.parse(window.localStorage.getItem("apiData")||"{}");var D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||N.b,M={musicUrl:Object(N.c)((function(t,e){switch(e.type){case O:return e.data;default:return t}}),D(Object(N.a)(S.a))),searchData:Object(N.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return e.data;default:return t}}),D(Object(N.a)(S.a))),setApi:Object(N.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:var a=P({},t);return a=P({},a,{},e.data);default:return t}}),D(Object(N.a)(S.a)))},A=function(t){return{type:O,data:t}};function I(t,e){var a=M.setApi.getState();return e in a?Promise.resolve(a[e]):t()}function B(t){var e="";for(var a in t)"t"!==a&&(e+="/".concat(a,":").concat(JSON.stringify(t[a])));return e}var U=x.a.create({baseURL:"https://autumnfish.cn"});U.defaults.transformResponse=[function(t){return t}],U.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),U.interceptors.response.use((function(t){var e=JSON.parse(t.data),a=t.config.url.split("https://autumnfish.cn")[1];return a+=B(t.config.params),M.setApi.dispatch(function(t){return{type:L,data:t}}(Object(w.a)({},a,e))),e}),(function(t){return Promise.reject(t)}));var H=U;function R(t){return I((function(){return H({method:"get",url:"/song/url",params:{id:t,t:Date.now()}})}),"/song/url".concat(B({id:t})))}function _(t){return I((function(){return H({method:"get",url:"/lyric",params:{id:t,t:Date.now()}})}),"/lyric".concat(B({id:t})))}function W(t){var e=t.cat,a=t.initial;return I((function(){return H({method:"get",url:"/artist/list",params:{cat:e,initial:a,t:Date.now()}})}),"/artist/list".concat(B({cat:e,initial:a})))}function X(t){var e=t.id;return I((function(){return H({method:"get",url:"/artists",params:{id:e,t:Date.now()}})}),"/artists".concat(B({id:e})))}function F(t){return I((function(){return H({method:"get",url:"/artist/album",params:{id:t,t:Date.now()}})}),"/artist/album".concat(B({id:t})))}var z=a(49);var J=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,a=arguments.length>2?arguments[2]:void 0,n=document.createElement("div");switch(n.innerText=t,document.body.append(n),n.style.position="fixed",n.style.opacity=0,n.style.left="50%",n.style.textAlign="center",a){case"top":n.style.top="-5%",n.style.transform="translateX(-50%)",setTimeout((function(){n.style.top="2%"}),0);break;case"bottom":n.style.top="110%",n.style.transform="translateX(-50%)",setTimeout((function(){n.style.top="90%"}),0);break;default:n.style.top="50%",n.style.transform="translateX(-50%) translateY(-50%)"}n.style.zIndex=99999999999,n.style.transition="all .5s",n.style.padding="8px 10px",n.style.backgroundColor="rgba(0,0,0,.7)",n.style.color="#fff",n.style.borderRadius="5px",setTimeout((function(){n.style.opacity=1}),0),setTimeout((function(){n.style.opacity=0}),e),setTimeout((function(){document.body.removeChild(n)}),e+500)},q=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isPlay:!1,musicUrl:"",show:0,musicList:[],index:0,preIndex:null,picUrl:"",musicName:"",musicAr:"",playLength:{current:0,end:0},platPattern:"listCycle",lycArr:null,currentLyric:null,isShowLyc:!1,isShowAllTool:!1,popupShow:!1,isTouchDown:!1},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;window.addEventListener("touchmove",(function(e){if(t.state.isTouchDown){var a=e.changedTouches[0].clientX-t.progressBox.offsetLeft;t.setProgress(a)}})),M.musicUrl.subscribe((function(){var e=M.musicUrl.getState();!function(t){var e=document.getElementById("root"),a=document.createElement("i");a.className="iconfont icon-yinle animation",a.style.top=t.pageY-5+"px",a.style.left=t.pageX-5+"px",e.append(a),setTimeout((function(){a.style.top=window.screen.height-45+"px",a.style.left="8%",a.style.fontSize="30px"}),0),setTimeout((function(){a.style.opacity=0}),1e3),setTimeout((function(){e.removeChild(a)}),2e3)}(e.even),t.setState({musicList:e.list},(function(){t.setState({index:e.index},(function(){t.setMusicUrl()}))}))}))}},{key:"lyricDispose",value:function(t){for(var e=t.split("\n"),a=[],n=0;n<e.length&&e[n];n++){var r=e[n].match(/\[.*\]/g)[0];r=r.substring(1,r.length-1);for(var i=e[n].replace(/\[.*\]/g,""),s=r.split("]["),c=0;c<s.length;c++)a.push({time:Number(s[c].split(":")[1])+60*Number(s[c].split(":")[0]),str:i})}return a.sort((function(t,e){return t.time-e.time}))}},{key:"setMusicUrl",value:function(){var t=Object(b.a)(E.a.mark((function t(){var e,a,n,r,i=this;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.index,a=!this.state.musicUrl,this.setState({musicUrl:""}),this.progress.style.width="",t.prev=4,t.next=7,R(this.state.musicList[e].id);case 7:if(null!==(n=t.sent).data[0].url){t.next=12;break}return J("\u6b4c\u66f2\u300a".concat(this.state.musicList[e].name,"\u300b\u6682\u65e0\u7248\u6743,\u64ad\u653e\u5931\u8d25!"),2e3),this.MusicChange(1),t.abrupt("return");case 12:return this.setState({musicUrl:n.data[0].url},(function(){a||i.audio.play(),0===i.state.show&&i.setState({show:60})})),this.getSingerDesc(this.state.musicList[e].artId),this.setState({musicName:this.state.musicList[e].name}),this.setState({musicAr:this.state.musicList[e].arName}),t.next=18,_(this.state.musicList[e].id);case 18:"lrc"in(r=t.sent)?this.setState({lycArr:this.lyricDispose(r.lrc.lyric)}):this.setState({lycArr:""}),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),console.log(t.t0);case 25:case"end":return t.stop()}}),t,this,[[4,22]])})));return function(){return t.apply(this,arguments)}}()},{key:"Playing",value:function(t){var e=document.getElementById("audio");this.state.isPlay?e.pause():e.play()}},{key:"showAll",value:function(t){var e=this;t.setState({show:"100%"},(function(){setTimeout((function(){e.setState({isShowAllTool:!0},(function(){e.allLyc.style.paddingTop=e.allLyc.offsetHeight/2-40+"px";var t=e.lycBox.offsetHeight-90>window.innerWidth-60?window.innerWidth-60:e.lycBox.offsetHeight-90;e.plate.style.width=t+"px",e.plate.style.height=t+"px"}))}),600)})),document.getElementsByClassName("tool")[0].style.display="none"}},{key:"unShowAll",value:function(t){t.setState({show:60,isShowAllTool:!1});var e=document.getElementsByClassName("tool")[0];e.style.display="flex",e.style.opacity=0,setTimeout((function(){e.style.opacity=1}),0)}},{key:"timeupdate",value:function(t){var e=document.getElementById("audio");if(e.ended&&"singleCycle"!==this.state.platPattern)this.MusicChange(1);else if(this.state.isShowAllTool){var a="0:00",n="0:00";if(e.currentTime>0){a=Math.floor(e.currentTime);var r=Math.floor(a/60).toString(),i=(a%60).toString();a="".concat(r,":").concat(i.padStart(2,"0"))}if(e.duration>0){n=Math.floor(e.duration);var s=Math.floor(n/60).toString(),c=(n%60).toString();n="".concat(s,":").concat(c.padStart(2,"0"))}if(t.setState({playLength:{current:a,end:n}}),!this.state.isTouchDown){var o=e.currentTime/e.duration;this.progress.style.width=o*this.progressBox.offsetWidth+"px"}if(this.state.lycArr){for(var l=e.currentTime+.3,u=this.state.lycArr.length-1;u>=0;u--)if(this.state.lycArr[u].time<l)return this.state.currentLyric!==u&&(this.lycBrief.innerText=this.state.lycArr[u].str,this.allLyc.style.top=50*-u+"px"),void this.setState({currentLyric:u});this.setState({currentLyric:null}),this.allLyc.style.top="50px"}}}},{key:"getSingerDesc",value:function(){var t=Object(b.a)(E.a.mark((function t(e){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(e);case 3:a=t.sent,this.setState({picUrl:a.artist.picUrl}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},{key:"MusicChange",value:function(t){var e=this,a=null;switch(this.state.platPattern){case"listCycle":case"singleCycle":1===t&&(a=this.state.index!==this.state.musicList.length-1?this.state.index+1:0),-1===t&&(a=0!==this.state.index?this.state.index-1:this.state.musicList.length-1),this.setState({index:a},(function(){e.setMusicUrl()}));break;case"random":a=Math.floor(Math.random()*this.state.musicList.length),this.setState({index:a},(function(){e.setMusicUrl()}))}}},{key:"showPopup",value:function(){var t=this;this.setState({popupShow:!this.state.popupShow},(function(){setTimeout((function(){t.state.popupShow&&t.lengthList.scrollToRow(t.state.index)}),200)}))}},{key:"progressClick",value:function(t){this.setProgress(t-this.progressBox.offsetLeft)}},{key:"setProgress",value:function(t){this.progress.style.width=t+"px"}},{key:"setMucTiem",value:function(){if(this.state.isPlay){var t=this.progress.offsetWidth/this.progressBox.offsetWidth;t<.04&&(t=0),this.audio.currentTime=this.audio.duration*t}}},{key:"rowRenderer",value:function(t){var e=this,a=t.index,n=t.style,i=t.key,s=this.state.musicList[a];return r.a.createElement("div",{key:i,style:n,onClick:function(){return e.setState({index:a},(function(){e.setMusicUrl()}))},className:"content"},r.a.createElement("span",{style:{color:this.state.index===a?"#d4473e":"#a09191"}},r.a.createElement("i",{className:"iconfont icon-bofang",style:{opacity:this.state.index===a?1:0}}),s.name," - ",s.arName),r.a.createElement("div",{className:"ico"},r.a.createElement("i",{className:"iconfont icon-shoucang"}),r.a.createElement("i",{className:"iconfont icon-RectangleCopy"})))}},{key:"render",value:function(){var t=this,e=this.state,a=e.musicList,n=e.isShowAllTool;return r.a.createElement("div",{className:"playMusic",style:{bottom:this.state.show}},r.a.createElement("div",{className:"bg"},r.a.createElement("div",{className:"before",style:{backgroundImage:"url(".concat(this.state.picUrl,")")}})),r.a.createElement("div",{className:"tool"},r.a.createElement("div",{className:"item",onClick:function(){return t.showAll(t)},ref:function(e){return t.img=e}},r.a.createElement("div",{className:"img"},r.a.createElement("img",{src:this.state.picUrl,alt:""})),r.a.createElement("div",{className:"text"},this.state.musicName,r.a.createElement("div",null,this.state.musicAr))),r.a.createElement("div",{className:"btn"},r.a.createElement("i",{onClick:function(){return t.Playing(t)},className:this.state.isPlay?"iconfont icon-zanting":"iconfont icon-bofang"}),r.a.createElement("i",{className:"iconfont icon-yinleliebiao",onClick:function(){return t.showPopup()}}))),r.a.createElement("div",{className:"audio"},r.a.createElement("audio",{onTimeUpdate:function(){return t.timeupdate(t)},autoPlay:!0,controls:!0,src:this.state.musicUrl,id:"audio",loop:"singleCycle"===this.state.platPattern,ref:function(e){return t.audio=e},onPlaying:function(){t.setState({isPlay:!0})},onPause:function(){t.setState({isPlay:!1})}})),r.a.createElement("div",{className:"all"},r.a.createElement("div",{className:"toolBox",style:{opacity:n?1:0,transition:"all .5s"}},n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"topBox"},r.a.createElement(y.a,{type:"down",onClick:function(){return t.unShowAll(t)}}),r.a.createElement("div",{className:"title"},this.state.musicName),r.a.createElement("div",{className:"singer"},this.state.musicAr)),r.a.createElement("div",{className:"lycBox",ref:function(e){return t.lycBox=e},onClick:function(){return t.setState({isShowLyc:!t.state.isShowLyc})}},r.a.createElement("div",{className:"plate",style:{opacity:this.state.isShowLyc?0:1},ref:function(e){return t.plate=e}},r.a.createElement("img",{src:this.state.picUrl,alt:""})),r.a.createElement("div",{className:"lycBrief",style:{opacity:this.state.isShowLyc?0:1}},r.a.createElement("p",{ref:function(e){return t.lycBrief=e}})),r.a.createElement("div",{className:"allLyc",style:{opacity:this.state.isShowLyc?1:0},ref:function(e){return t.allLyc=e}},this.state.lycArr&&this.state.lycArr.map((function(e,a){return r.a.createElement("p",{key:a,className:a===t.state.currentLyric?"current":""},e.str)}))))),r.a.createElement("div",{className:"allTool"},r.a.createElement("div",{className:"progressBar"},r.a.createElement("span",null,this.state.playLength.current),r.a.createElement("div",{className:"progressBox",onTouchStart:function(e){var a=e.changedTouches[0].clientX;t.setState({isTouchDown:!0},(function(){return t.progressClick(a)}))},onTouchEnd:function(){setTimeout((function(){t.setMucTiem(),t.setState({isTouchDown:!1})}),0)}},r.a.createElement("div",{ref:function(e){return t.progressBox=e}},r.a.createElement("div",{className:"progress",ref:function(e){return t.progress=e}}))),r.a.createElement("span",null,this.state.playLength.end)),r.a.createElement("div",{className:"control"},"listCycle"===this.state.platPattern&&r.a.createElement("i",{className:"iconfont icon-icon--",onClick:function(){t.setState({platPattern:"singleCycle"}),J("\u5355\u66f2\u5faa\u73af",2e3)}}),"singleCycle"===this.state.platPattern&&r.a.createElement("i",{className:"iconfont icon-danquxunhuan",onClick:function(){t.setState({platPattern:"random"}),J("\u968f\u673a\u64ad\u653e",2e3)}}),"random"===this.state.platPattern&&r.a.createElement("i",{className:"iconfont icon-suijibofang",onClick:function(){t.setState({platPattern:"listCycle"}),J("\u987a\u5e8f\u64ad\u653e",2e3)}}),r.a.createElement("i",{className:"iconfont icon-shangyishoushangyige",onClick:function(){return t.MusicChange(-1)}}),r.a.createElement("i",{onClick:function(){return t.Playing(t)},className:this.state.isPlay?"iconfont icon-zanting":"iconfont icon-bofang"}),r.a.createElement("i",{className:"iconfont icon-xiayigexiayishou",onClick:function(){return t.MusicChange(1)}}),r.a.createElement("i",{className:"iconfont icon-yinleliebiao",onClick:function(){return t.showPopup()}}))))),r.a.createElement(f.a,{popup:!0,visible:this.state.popupShow,onClose:function(){return t.showPopup()},animationType:"slide-up"},r.a.createElement("div",{className:"songListPopup"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"title"},r.a.createElement("div",{className:"left"},"listCycle"===this.state.platPattern&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"iconfont icon-icon--",onClick:function(){t.setState({platPattern:"singleCycle"})}}),"\u987a\u5e8f\u64ad\u653e"),"singleCycle"===this.state.platPattern&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"iconfont icon-danquxunhuan",onClick:function(){t.setState({platPattern:"random"})}}),"\u5355\u66f2\u5faa\u73af"),"random"===this.state.platPattern&&r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"iconfont icon-suijibofang",onClick:function(){t.setState({platPattern:"listCycle"})}}),"\u968f\u673a\u64ad\u653e")),r.a.createElement("i",{className:"iconfont icon-guanbi",onClick:function(){return t.showPopup()}})),a.length>0&&r.a.createElement(z.a,null,(function(e){var n=e.height,i=e.width;return r.a.createElement(z.b,{ref:function(e){return t.lengthList=e},width:i,height:n-40,rowCount:a.length,rowHeight:40,rowRenderer:t.rowRenderer.bind(t),scrollToAlignment:"start"})}))))))}}]),e}(r.a.Component),K=(a(241),function(t,e){for(var a=arguments.length,n=new Array(a>2?a-2:0),r=2;r<a;r++)n[r-2]=arguments[r];t.itemID||(t.itemID=setTimeout((function(){clearInterval(t.itemID),t.itemID=null,t.apply(void 0,n)}),e))}),Y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?r.a.createElement(r.a.Fragment,null,t.map((function(t,a){return r.a.createElement(p.a,{key:t.key||a,path:t.path,exact:t.exact,strict:t.strict,render:function(a){return r.a.createElement(t.component,Object.assign({},a,e,{route:t}))}})}))):null},Q=(a(126),a(68)),G=a.n(Q),V=(a(127),a(69)),$=a.n(V);a(246);function Z(t){return I((function(){return H({method:"get",url:"/playlist/detail",params:{id:t,t:Date.now()}})}),"/playlist/detail".concat(B({id:t})))}function tt(t){return I((function(){return H({method:"get",url:"/simi/playlist",params:{id:t,t:Date.now()}})}),"/simi/playlist".concat(B({id:t})))}function et(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var at=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={data:{name:"\u6b4c\u5355",tracks:[],subscribedCount:0,coverImgUrl:"http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg"},bgStyle:{backgroundImage:'url("http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg")'},show:{},rollPlace:!1},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=Object(b.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({show:{transform:"rotate(0deg)"}}),document.documentElement.scrollTop=0,t.prev=2,t.next=5,Z(this.props.match.params.id);case 5:e=t.sent,this.setState({data:e.playlist}),this.setState({bgStyle:{backgroundImage:'url("'.concat(e.playlist.coverImgUrl,'")')}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[2,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"play",value:function(t,e,a){var n=[];t.forEach((function(t){n.push({id:t.id,name:t.name,artId:t.ar[Math.floor(Math.random()*t.ar.length)].id,arName:t.ar[0].name})})),M.musicUrl.dispatch(A({list:n,index:e,even:a}))}},{key:"rowRenderer",value:function(t){var e=this,a=t.index,n=t.style,i=t.key;a-=4;var s=this.state.data.tracks[a-1],c=this.state.data.tracks;if(a<0)return r.a.createElement("div",{className:"placeholder",style:n,key:i});if(0===a){var o=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?et(a,!0).forEach((function(e){Object(w.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):et(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},n);return o.height=45,r.a.createElement("div",{className:"title",style:o,key:i},r.a.createElement("div",{className:"bg"}),r.a.createElement("div",null),r.a.createElement("div",{className:"content"},r.a.createElement("i",{className:"iconfont icon-bofang",onClick:function(t){return e.play(c,0,t)}}),r.a.createElement("span",null,"\u64ad\u653e\u5168\u90e8",r.a.createElement("span",null,"(\u5171",c.length,"\u9996)"))),r.a.createElement($.a,null,r.a.createElement("i",{className:"iconfont icon-add"})," \u6536\u85cf",r.a.createElement("span",{className:"num"},"(",Math.ceil(this.state.data.subscribedCount/1e3)/10,"\u4e07)")))}return r.a.createElement("div",{className:"box",style:n,key:i,onClick:function(t){return e.play(e.state.data.tracks,a-1,t)}},r.a.createElement("div",{className:"index"},a),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"text"},s.name),r.a.createElement("div",null,s.ar[0].name)))}},{key:"onRowsRendered",value:function(t){var e=t.startIndex,a=this.state.rollPlace;e>8&&!a?this.setState({rollPlace:!0}):e<=8&&a&&this.setState({rollPlace:!1})}},{key:"render",value:function(){var t=this,e=this.state.data.tracks;return r.a.createElement("div",{id:"songMenu",className:"songMenu",ref:function(e){return t.songMenu=e},style:this.state.show},r.a.createElement("div",{className:"cover"},r.a.createElement("div",{className:"bg",style:this.state.bgStyle}),r.a.createElement("div",{className:"content"},r.a.createElement(G.a,{mode:"light",icon:r.a.createElement(y.a,{type:"left"}),onLeftClick:function(){t.setState({show:{transform:"rotate(-90deg)"}}),setTimeout((function(){t.props.history.go(-1)}),400)},leftContent:r.a.createElement("span",{className:"title"},this.state.data.name)}),r.a.createElement("div",{className:"synopsis"},r.a.createElement("img",{src:this.state.data.coverImgUrl,alt:""}),r.a.createElement("div",null,r.a.createElement("div",{className:"title"},this.state.data.name),r.a.createElement("div",{className:"text"},r.a.createElement("img",{src:"http://p1.music.126.net/QWMV-Ru_6149AKe0mCBXKg==/1420569024374784.jpg",alt:""}),"\u7f51\u6613\u4e91\u97f3\u4e50"))),r.a.createElement("div",{className:"praise"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("i",{className:"iconfont icon-wodefankui"}),r.a.createElement("span",null,"\u8bc4\u8bba")),r.a.createElement("li",null,r.a.createElement("i",{className:"iconfont icon-shoucang"}),r.a.createElement("span",null,"\u70b9\u8d5e")),r.a.createElement("li",null,r.a.createElement("i",{className:"iconfont icon-add"}),r.a.createElement("span",null,"\u6536\u85cf")),r.a.createElement("li",null,r.a.createElement("i",{className:"iconfont icon-icon_threeline_fill"}),r.a.createElement("span",null,"\u66f4\u591a")))))),r.a.createElement("div",{id:"songMenuList",className:"songMenuList",style:{background:this.state.rollPlace?"#fff":"transparent"}},r.a.createElement("div",null,e.length>0&&r.a.createElement(z.a,null,(function(a){var n=a.height,i=a.width;return r.a.createElement(z.b,{height:n,rowCount:e.length+5,rowHeight:59,rowRenderer:t.rowRenderer.bind(t),width:i,onRowsRendered:t.onRowsRendered.bind(t)})}))),0===e.length&&r.a.createElement(y.a,{type:"loading"})))}}]),e}(r.a.Component),nt=(a(64),a(24)),rt=a.n(nt),it=(a(249),rt.a.Item),st=it.Brief,ct=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={songList:{artist:{picUrl:"http://img3.imgtn.bdimg.com/it/u=1105085267,629346802&fm=26&gp=0.jpg",name:"\u6b4c\u5355"},hotSongs:[]},show:{}},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.getSongList(),setTimeout((function(){t.setState({show:{transform:"rotate(0deg)"}})}),0)}},{key:"getSongList",value:function(){var t=Object(b.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X({id:this.props.match.params.id});case 3:e=t.sent,this.setState({songList:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"play",value:function(t,e,a){var n=[];t.forEach((function(t){n.push({id:t.id,name:t.name,artId:t.ar[Math.floor(Math.random()*t.ar.length)].id,arName:t.ar[0].name})})),M.musicUrl.dispatch(A({list:n,index:e,even:a}))}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{id:"singerDetails",className:"singerDetails",style:this.state.show},r.a.createElement("div",{className:"cover",style:{backgroundImage:"url(".concat(this.state.songList.artist.picUrl,")")}},r.a.createElement($.a,{className:"btn",inline:!0,type:"warning"},r.a.createElement("i",{className:"iconfont icon-add"}," \u6536\u85cf"))),r.a.createElement("div",{id:"songMenuList",className:"songMenuList"},r.a.createElement(rt.a,null,r.a.createElement("div",{className:"title"},r.a.createElement("div",null,r.a.createElement("i",{className:"iconfont icon-bofang",onClick:function(e){return t.play(t.state.songList.hotSongs,0,e)}}),r.a.createElement("span",null,"\u64ad\u653e\u5168\u90e8",r.a.createElement("span",null,this.state.songList.hotSongs&&"(\u5171".concat(this.state.songList.hotSongs.length,"\u9996)"))))),this.state.songList.hotSongs.map((function(e,a){return r.a.createElement("div",{className:"box",key:a},r.a.createElement("span",{className:"index"},a+1),r.a.createElement(it,{multipleLine:!0,onClick:function(e){return t.play(t.state.songList.hotSongs,a,e)}},e.name,r.a.createElement(st,null,e.ar[0].name," - ",e.name)))}))),0===this.state.songList.hotSongs.length&&r.a.createElement(y.a,{type:"loading"})),r.a.createElement("div",{className:"top"},r.a.createElement(y.a,{type:"left",onClick:function(){t.setState({show:{transform:"rotate(-90deg)"}}),setTimeout((function(){t.props.history.go(-1)}),400)}}),this.state.songList.artist.name))}}]),e}(r.a.Component),ot=(a(250),a(139)),lt=a.n(ot);a(253);var ut=rt.a.Item,mt=ut.Brief,ht=null,pt=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={boxStyle:{},key:"",searchList:[],singerData:{},playlists:[],searchHot:JSON.parse(window.localStorage.getItem("searchHot")||"[]")},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){var e=M.searchData.getState();t.setState({boxStyle:{transform:"translateX(0)"},key:e}),e.trim().length>0&&t.searchMusic(e.trim())}),0),document.getElementById("input").focus(),setTimeout((function(){t.search.style.backgroundColor="#f3f3f4"}),300),0===this.state.searchHot.length&&this.getSearchHot()}},{key:"getSearchHot",value:function(){var t=Object(b.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({method:"get",url:"/search/hot",params:{t:Date.now()}});case 3:e=t.sent,this.setState({searchHot:e.result.hots}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"onChange",value:function(t){var e=this,a=t.target.value;this.setState({key:a}),ht&&clearInterval(ht),ht=setTimeout((function(){clearInterval(ht),a.trim().length>0?e.searchMusic(a.trim()):e.setState({searchList:[]})}),500)}},{key:"searchMusic",value:function(){var t=Object(b.a)(E.a.mark((function t(e){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return M.searchData.dispatch({type:j,data:e}),t.prev=1,t.next=4,H({method:"get",url:"/search",params:{keywords:e,t:Date.now()}});case 4:a=t.sent,this.getPlaylist(a.result.songs[0].id),this.getSingerDesc(a.result.songs[0].artists[0].id),this.setState({searchList:a.result.songs}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getSingerDesc",value:function(){var t=Object(b.a)(E.a.mark((function t(e){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(e);case 3:return a=t.sent,this.setState({singerData:a.artist}),t.abrupt("return",a.artist);case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getPlaylist",value:function(){var t=Object(b.a)(E.a.mark((function t(e){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,tt(e);case 3:a=t.sent,this.setState({playlists:a.playlists}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},{key:"play",value:function(t,e,a){try{var n=[];t.forEach((function(t,e){n.push({id:t.id,name:t.name,arName:t.artists[0].name,artId:t.artists[Math.floor(Math.random()*t.artists.length)].id})})),M.musicUrl.dispatch(A({list:n,index:e,even:a}))}catch(r){console.log(r)}}},{key:"addsearchHot",value:function(){var t=this.state.key,e=this.state.searchHot,a=this.state.searchHot.map((function(t){return t.first}));a.includes(t)?e.splice(a.indexOf(t),1):e.pop(),e.unshift({first:t}),window.localStorage.setItem("searchHot",JSON.stringify(e)),this.setState({searchHot:e})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"search",ref:function(e){return t.search=e}},r.a.createElement("div",{className:"box",ref:function(e){return t.box=e},style:this.state.boxStyle},this.state.searchList.length>0&&r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"singer"},r.a.createElement("div",{className:"title"},"\u76f8\u5173\u6b4c\u624b"),r.a.createElement(ut,{thumb:this.state.singerData.picUrl,onClick:function(){t.addsearchHot(),t.props.history.push("/singerDetails/".concat(t.state.singerData.id))}},this.state.singerData.name)),r.a.createElement("div",{className:"songMenuList"},r.a.createElement("div",{className:"title"},"\u76f8\u5173\u6b4c\u5355"),r.a.createElement(rt.a,null,this.state.playlists.map((function(e,a){return r.a.createElement(ut,{key:a,thumb:e.coverImgUrl,onClick:function(){t.addsearchHot(),t.props.history.push("/songMenu/"+e.id)}},e.name)})))),r.a.createElement("div",{className:"songList"},r.a.createElement(rt.a,null,this.state.searchList.map((function(e,a){return r.a.createElement(ut,{onClick:function(e){t.addsearchHot(),t.play(t.state.searchList,a,e)},key:a},e.name,r.a.createElement(mt,null,e.artists[0].name," - ",e.album.name))}))))),0===this.state.searchList.length&&r.a.createElement("div",{className:"hotKey"},r.a.createElement("div",{className:"title"},"\u70ed\u95e8\u641c\u7d22"),r.a.createElement("div",{className:"content"},this.state.searchHot.map((function(e,a){return r.a.createElement(lt.a,{"data-seed":"logId",key:a},r.a.createElement("div",{onClick:function(){t.searchMusic(e.first),t.input.value=e.first,t.setState({key:e.first})}},e.first))}))))),r.a.createElement("div",{className:"searchBar",style:this.state.boxStyle},r.a.createElement("i",{className:"iconfont icon-xiangzuojiantou",onClick:function(){t.search.style.backgroundColor="",t.setState({boxStyle:{transform:"translateX(100%)"}}),setTimeout((function(){t.props.history.go(-1)}),300)}}),r.a.createElement("input",{type:"text",id:"input",placeholder:"\u641c\u7d22\u6b4c\u66f2\u3001\u6b4c\u624b\u3001\u4e13\u8f91",ref:function(e){return t.input=e},value:this.state.key,onChange:function(e){return t.onChange(e)}}),this.state.key.trim().length>0&&r.a.createElement("i",{className:"iconfont icon-guanbi",onClick:function(){t.input.value="",t.setState({key:""}),t.setState({searchList:[]})}})))}}]),e}(r.a.Component),dt=(a(254),a(140)),ft=a.n(dt),gt=(a(256),a(141)),yt=a.n(gt),vt=(a(258),function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"topBar"},r.a.createElement(G.a,{mode:"light",icon:r.a.createElement(y.a,{type:"ellipsis"}),onLeftClick:function(){},rightContent:[r.a.createElement(y.a,{key:"0",type:"search",style:{marginRight:"16px"},onClick:function(){t.props.history.push("/search")}})]},"\u4e91\u97f3\u4e50"))}}]),e}(r.a.Component)),Et=Object(p.f)(vt),bt=(a(259),a(260),a(143)),wt=a.n(bt),kt=(a(128),a(92)),xt=a.n(kt),Nt=(a(264),a(265),function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={songList:[]},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.getSongList()}},{key:"songMenu",value:function(t){this.props.history.push("/songMenu/"+t.id)}},{key:"getSongList",value:function(){var t=Object(b.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({method:"get",url:"/personalized",params:{t:Date.now()}});case 3:e=t.sent,this.setState({songList:e.result}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"songList",ref:function(e){return t.recommend=e}},r.a.createElement("div",{className:"title"},"\u63a8\u8350\u6b4c\u5355"),r.a.createElement("div",null,r.a.createElement("ul",{className:"List"},this.state.songList.length>0&&this.state.songList.map((function(e,a){return r.a.createElement("li",{key:a,onClick:function(){return t.songMenu(e)}},r.a.createElement("div",{className:"imgBox"},r.a.createElement("img",{src:"",alt:"","data-url":e.picUrl})),r.a.createElement("div",{className:"text"},e.name),r.a.createElement("i",{className:"iconfont icon-kefu"}," ",Math.ceil(e.playCount/1e4),"\u4e07"))})))))}}]),e}(r.a.Component)),St=Object(p.f)(Nt);var Ot=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={bannerList:null},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.getBanners()}},{key:"getBanners",value:function(){var t=Object(b.a)(E.a.mark((function t(){var e;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({method:"get",url:"/banner",params:{type:{type:1},t:Date.now()}});case 3:e=t.sent,this.setState({bannerList:e.banners}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.bannerList;return r.a.createElement("div",{className:"recommend",id:"recommend",ref:function(e){return t.recommend=e}},r.a.createElement("div",null,r.a.createElement("div",{className:"bg"}),r.a.createElement("div",{className:"carousel",onTouchMove:function(t){return t.stopPropagation()}},r.a.createElement(wt.a,null,e&&r.a.createElement(xt.a,{autoplay:!0,infinite:!0},e.map((function(e,a){return r.a.createElement("div",{key:a,style:{display:"inline-block",width:"100%",height:"40vw"}},r.a.createElement("img",{src:e.imageUrl,alt:"",style:{width:"100%",height:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize")),t.setState({imgHeight:"auto"})}}))}))))),r.a.createElement("div",{className:"song-list"},r.a.createElement(St,{isLoad:this.props.isLoad}))))}}]),e}(r.a.Component),jt=(a(266),rt.a.Item),Lt=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={index:null,letterIndex:null,data:[{name:"\u5165\u9a7b\u6b4c\u624b",index:5001},{name:"\u534e\u8bed\u7537\u6b4c\u624b",index:1001},{name:"\u534e\u8bed\u5973\u6b4c\u624b",index:1002},{name:"\u534e\u8bed\u7ec4\u5408",index:1003},{name:"\u6b27\u7f8e\u7537\u6b4c\u624b",index:2001},{name:"\u6b27\u7f8e\u5973\u6b4c\u624b",index:2002},{name:"\u6b27\u7f8e\u7ec4\u5408",index:2003},{name:"\u65e5\u672c\u7537\u6b4c\u624b",index:6001},{name:"\u65e5\u672c\u5973\u6b4c\u624b",index:6002},{name:"\u65e5\u672c\u7ec4\u5408",index:6003},{name:"\u97e9\u56fd\u7537\u6b4c\u624b",index:7001},{name:"\u97e9\u56fd\u5973\u6b4c\u624b",index:7002},{name:"\u97e9\u56fd\u7ec4\u5408",index:7003},{name:"\u5176\u4ed6\u7537\u6b4c\u624b",index:4001},{name:"\u5176\u4ed6\u5973\u6b4c\u624b",index:4002},{name:"\u5176\u4ed6\u7ec4\u5408",index:4003}],letter:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),singerList:[]},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"screen",value:function(t){this.setState({index:t}),this.loadList({cat:this.state.data[t].index,initial:null!==this.state.letterIndex?this.state.letter[this.state.letterIndex]:void 0},!0),this.setState({singerList:[]})}},{key:"letterScreen",value:function(t){this.setState({letterIndex:t}),this.loadList({cat:null!==this.state.index?this.state.data[this.state.index].index:void 0,initial:this.state.letter[t]},!0),this.setState({singerList:[]})}},{key:"componentDidMount",value:function(){var t=Object(b.a)(E.a.mark((function t(){return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loadList({cat:1001});case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"loadList",value:function(){var t=Object(b.a)(E.a.mark((function t(e,a){var n,r,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.cat,r=e.initial,t.prev=1,t.next=4,W({cat:n,initial:r});case 4:i=t.sent,this.setState({singerList:i.artists},(function(){if(a){var t=document.getElementById("singer");t.scrollTop=1,t.scrollTop=0}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"singer"},r.a.createElement("div",{id:"classify",className:"classify",onTouchStart:function(t){return t.stopPropagation()}},r.a.createElement("ul",null,r.a.createElement("li",{className:"title"},"\u5206\u7c7b(\u9ed8\u8ba4\u70ed\u95e8):"),this.state.data.map((function(e,a){return r.a.createElement("li",{onClick:function(e){return t.screen(a)},key:a,className:a===t.state.index?"activate":""},e.name)})))),r.a.createElement("div",{className:"letter",id:"letter",onTouchStart:function(t){return t.stopPropagation()}},r.a.createElement("ul",null,r.a.createElement("li",{className:"title"},"\u9996\u5b57\u6bcd:"),this.state.letter.map((function(e,a){return r.a.createElement("li",{onClick:function(){return t.letterScreen(a)},key:a,className:a===t.state.letterIndex?"letter-activate":""},e)})))),r.a.createElement("div",{className:"list"},r.a.createElement(rt.a,null,this.state.singerList.map((function(e,a){return r.a.createElement("div",{className:"item",key:a},r.a.createElement(jt,{thumb:r.a.createElement("img",{src:"http://img4.imgtn.bdimg.com/it/u=891174751,554927679&fm=26&gp=0.jpg","data-url":e.picUrl,alt:""}),onClick:function(){t.props.history.push("/singerDetails/".concat(e.id))}},e.name))})))))}}]),e}(r.a.Component),Ct=Object(p.f)(Lt),Pt=(a(267),a(144)),Tt=a.n(Pt);a(274);var Dt=rt.a.Item,Mt=Dt.Brief,At=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={data:[1,2,3,4,5],authorityList:[],globalList:[]},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.getRanking()}},{key:"getRanking",value:function(){var t=Object(b.a)(E.a.mark((function t(){var e,a=this;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H({method:"get",url:"/toplist",params:{t:Date.now()}});case 3:e=t.sent,this.setState({authorityList:e.list.slice(0,4)},(function(){a.state.authorityList.forEach((function(t,e){a.getSongMenu(t.id,e)}))})),this.setState({globalList:e.list.slice(4,e.list.length)}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"getSongMenu",value:function(){var t=Object(b.a)(E.a.mark((function t(e,a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z(e);case 3:n=t.sent,(r=this.state.authorityList)[a].tags=n.playlist.tracks.slice(0,3),this.setState({authorityList:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()},{key:"songMenu",value:function(t){this.props.history.push("/songMenu/"+t.id)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"ranking"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"authority"},r.a.createElement("div",{className:"title"},"\u5b98\u65b9\u699c"),r.a.createElement(rt.a,null,this.state.authorityList.map((function(e,a){return r.a.createElement(Dt,{key:a,thumb:r.a.createElement("img",{src:"",alt:"","data-url":e.coverImgUrl}),onClick:function(){t.songMenu(e)}},t.state.authorityList[a].tags.map((function(t,e){return r.a.createElement(Mt,{key:e},e+1,". ",t.name)})))})))),r.a.createElement("div",{className:"global"},r.a.createElement("div",{className:"title"},"\u5168\u7403\u699c"),r.a.createElement(Tt.a,{hasLine:!1,data:this.state.globalList,columnNum:3,renderItem:function(e){return r.a.createElement("div",{onClick:function(){t.songMenu(e)}},r.a.createElement("img",{src:"",style:{width:"100%",height:"100%",borderRadius:"5px"},"data-url":e.coverImgUrl,alt:""}),r.a.createElement("div",{style:{color:"#888",fontSize:"14px",marginTop:"12px"}},r.a.createElement("span",null,e.updateFrequency)))}}))))}}]),e}(r.a.Component),It=Object(p.f)(At),Bt=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={placeholder:a.props.src||"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1897943806,295048940&fm=26&gp=0.jpg",windowHei:window.innerHeight+100},a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var t=this.box.parentNode;this.getNodeLise(t)}},{key:"getNodeLise",value:function(){var t=Object(b.a)(E.a.mark((function t(e){var a,n,r=this;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=this.state.windowHei,0!==(n=e.querySelectorAll("[data-url]")).length){t.next=7;break}return t.next=5,setTimeout((function(){r.getNodeLise(e)}),500);case 5:t.next=10;break;case 7:this.isLoad(e,a),n.forEach((function(t){""===t.getAttribute("src")&&t.setAttribute("src",r.state.placeholder)})),e.addEventListener("scroll",(function(){K(r.isLoad,200,e,a)}));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"isLoad",value:function(t,e){t.querySelectorAll("[data-url]").forEach((function(t){t.y<e&&(t.setAttribute("src",t.getAttribute("data-url")),t.removeAttribute("data-url"))}))}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{ref:function(e){return t.box=e}},this.props.children)}}]),e}(r.a.Component),Ut=[{title:"\u63a8\u8350",sub:"1"},{title:"\u6b4c\u624b",sub:"2"},{title:"\u6392\u884c\u699c",sub:"3"}],Ht=[{path:"/",component:function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"home"},r.a.createElement(Et,null),r.a.createElement(yt.a,{tabs:Ut,initialPage:0,tabBarBackgroundColor:"#d44439",tabBarInactiveTextColor:"#e4e4e4",tabBarActiveTextColor:"#f1f1f1",swipeable:!0,prerenderingSiblingsNumber:!1},r.a.createElement("div",{className:"tabBox"},r.a.createElement(Bt,null,r.a.createElement(Ot,null))),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#f2f3f4"}},r.a.createElement("div",{className:"tabBox",id:"singer"},r.a.createElement(Bt,{src:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=891174751,554927679&fm=26&gp=0.jpg"},r.a.createElement(Ct,null)))),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",backgroundColor:"#f2f3f4"}},r.a.createElement("div",{className:"tabBox",ref:function(e){return t.ganking=e}},r.a.createElement(Bt,null,r.a.createElement(It,null))))),r.a.createElement(ft.a,null))}}]),e}(r.a.Component)},{path:"/search",component:pt},{path:"/songMenu/:id",component:at},{path:"/singerDetails/:id",component:ct}];function Rt(){r.a.Component.prototype.$width=window.innerWidth}r.a.Component.prototype.$width=window.innerWidth,window.addEventListener("resize",(function(){K(Rt,1e3)})),window.addEventListener("beforeunload",(function(){window.localStorage.setItem("apiData",JSON.stringify(M.setApi.getState()))}));var _t=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"box"},r.a.createElement(h.a,null,r.a.createElement(p.c,null,Y(Ht))),r.a.createElement(q,null)))}}]),e}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(275);s.a.render(r.a.createElement(_t,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[145,1,2]]]);
//# sourceMappingURL=main.61914dbd.chunk.js.map